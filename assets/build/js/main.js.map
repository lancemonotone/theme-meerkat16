{"version":3,"sources":["webpack://wms.dev/./web/wp-content/lib/assets/js/src/common.es6.js","webpack://wms.dev/./web/wp-content/lib/assets/js/src/expando_tabs.es6.js","webpack://wms.dev/./web/wp-content/lib/assets/js/src/modules/class.events.es6.js","webpack://wms.dev/./web/wp-content/lib/quicklinks/assets/js/src/app.es6.js","webpack://wms.dev/./web/wp-content/lib/quicklinks/assets/js/src/modules/class.cookies.es6.js","webpack://wms.dev/./web/wp-content/lib/quicklinks/assets/js/src/modules/class.elements.es6.js","webpack://wms.dev/./web/wp-content/lib/quicklinks/assets/js/src/modules/class.links.es6.js","webpack://wms.dev/./web/wp-content/lib/quicklinks/assets/js/src/modules/class.tools.es6.js","webpack://wms.dev/./web/wp-content/lib/quicklinks/assets/js/src/modules/class.user.es6.js","webpack://wms.dev/./web/wp-content/lib/quicklinks/assets/js/src/modules/utils.es6.js","webpack://wms.dev/./web/wp-content/themes/meerkat16/assets/src/js/main.js","webpack://wms.dev/./web/wp-content/themes/meerkat16/assets/src/js/modules/gallery.es6.js","webpack://wms.dev/./web/wp-content/themes/meerkat16/assets/src/js/modules/quad.es6.js","webpack://wms.dev/./node_modules/whatwg-fetch/fetch.js","webpack://wms.dev/webpack/bootstrap","webpack://wms.dev/webpack/runtime/compat get default export","webpack://wms.dev/webpack/runtime/define property getters","webpack://wms.dev/webpack/runtime/hasOwnProperty shorthand","webpack://wms.dev/webpack/runtime/make namespace object","webpack://wms.dev/webpack/startup"],"names":["Common","$","elements","hasClass","el","className","classList","contains","RegExp","test","addClass","add","removeClass","remove","replace","wrapAll","nodes","wrapper","parent","parentNode","previousSibling","i","length","firstChild","appendChild","nextSibling","insertBefore","findAncestor","sel","Element","prototype","matches","msMatchesSelector","webkitMatchesSelector","closest","s","document","documentElement","parentElement","nodeType","initTooltips","extraSelectors","isFunction","selectors","doTooltip","tooltip","content","$el","$tt","find","clone","attr","outerHTML","prop","getPageUrl","$d_url","url","page_url","urlObj","pageUrl","appendAnchor","$anchor","copyTextToClipboard","event","text","textArea","createElement","style","position","top","left","width","height","padding","border","outline","boxShadow","background","value","body","select","msg","successful","execCommand","console","log","err","$target","target","oldMsg","effect","duration","setTimeout","on","ui","removeChild","my","at","collision","track","preventDefault","stopPropagation","append","loadImages","srcs","loadImage","src","deferred","when","defer","img","onload","resolve","onerror","reject","Error","promise","deferreds","len","push","all","showAjaxLoading","ajaxStart","show","ajaxStop","hide","touchpunch","a","e","b","originalEvent","touches","c","changedTouches","d","createEvent","initMouseEvent","window","screenX","screenY","clientX","clientY","dispatchEvent","support","touch","mouse","_mouseInit","_touchStart","_mouseCapture","_touchMoved","_touchMove","_touchEnd","element","bind","proxy","call","addJqueryFilters","expr","Contains","m","textContent","innerText","toUpperCase","indexOf","fn","setup_filter","changeCallback","keydownCallback","clearCallback","each","$input","data","placeholder","$name","wrap","val","$url","param","blur","focus","keydown","keyup","change","insertAfter","click","jQuery","expando","options","settings","extend","isExpando","open","hideAnchor","singleOpen","$expandoGroup","Boolean","parseInt","myItems","init","closeAll","initItems","addEvents","detectExpando","initItem","$dropdownToggle","$button","id","doClick","resize","toggleAsExpando","thisWidth","tabsWidth","outerWidth","checkActiveItem","which","$current","isNumber","index","eq","first","$item","openItem","toggleItem","slideDown","reloadItem","closeItem","$subsection","slideUp","openAll","$WmsInclude","anchor_url","n","isNaN","parseFloat","isFinite","Events","events","eventName","fns","map","off","splice","emit","MSInputMethodContext","documentMode","getElementById","cookiesMap","quicklinks","username","nohelp","menu","registerAsyncEvents","Elements","Cookies","User","Links","Tools","afterInitUser","afterSaveUser","updateUserLinks","afterLoadLinks","afterShowOverlay","afterLoginFail","afterSortable","links","setCookies","user","obj","type","current","original","insertLink","item","title","href","link","expires","Date","cookies","get","key","readCookie","set","persistent","exp","cookie","myAjax","domain","mapPropertiesToObj","Object","keys","updateAll","updated","unset","unsetAll","nameEQ","ca","split","charAt","substring","logAll","front","container","userLinks","quickActions","userIcon","quickLaunch","editor","status","filterInput","utilityContainer","helpContainer","staticLinks","customItemForm","dividerForm","login","form","getLoc","where","search_term","$list","not","clear","children","attachFrontElements","showSpinners","initFront","initEditor","hideDismissibles","setActiveForTouch","initExpandos","initDragDropSort","addEventListener","attachEditorElements","setLoginElements","doUserIcon","reset","setStatus","$icon","querySelectorAll","linksChanged","setAttribute","initLinkForm","$linkElement","closeAllLinkForms","$form","filter","$links","toggleClass","showDismissible","$parent","locations","spinner","html","draggable","connectToSortable","helper","revert","containment","$li","css","sortable","start","update","removeData","toggleMenu","menuToggled","message","noFade","fadeBackground","userLinksArr","addGaTracking","_gaq","label","event_label","tool","getAttribute","locFront","locEditor","locStatic","linkTypes","locEditorCat","locFrontCat","buildStaticLinks","loadAll","buildUserLinks","buildLinks","fetchApi","then","loadLinksByLocation","allToArray","linksHtml","join","htmlEncodedLinks","htmlEntitiesEncode","htmlDecodedLinks","htmlEntitiesDecode","str","String","txt","innerHTML","callback","addLinkToLocation","spliceLinks","buildLinkHtml","undefined","encodeURI","extractLink","linksToCookieObject","linksObj","count","toString","encodeURIComponent","JSON","stringify","trim","anchor","cookieObjectToLinks","decodeURIComponent","isArray","isObject","parse","legacyLinksToArray","objToArray","arr","pair_sep","name_val_sep","linksArr","parts","legacyLinkToObj","linkParts","o","constructor","Array","added","loc","swap","insert","prepend","save","dont_need_this","registerEvents","doMenuDisplay","doTool","$tool","addCurrentPage","addLink","addCustom","deleteLink","saveLink","dismissLinkForms","editLink","doLogin","doLogout","showOverlay","restoreDefaultLinks","parents","password","method","deleteCookies","confirm","getLinkData","getFormData","validateForm","prompt","location","isInit","animate","scrollTop","offset","featherlight","siteurl","afterContent","$self","$instance","namespace","afterOpen","isIos","afterClose","isSuper","doEmit","action","getProperty","setProperties","doFetch","setProperty","getUser","payload","FormData","credentials","fetch","ajaxurl","response","ok","json","catch","error","replaced","load","is","hover","cx","gcse","async","protocol","getElementsByTagName","$is_ipad","navigator","userAgent","match","magSearchText","hash","set_button_tab","$target_div","$desired_cat","$show_all","siblings","$paused","cycle","$gallery_widgets","mk_gallery_widget_size","mk_filmstrip_gallery_size","ready","$pad","$border","$gallery_container","$gallery_container_limit","$gallery_widget_w","$gall_item_w","Math","floor","$rows","$h","$typeVideo","openEffect","closeEffect","prevEffect","nextEffect","arrows","helpers","media","youtube","params","wmode","autoplay","$first_caption","filmstrip_select_pic","$filmstrip","$backdrop","$img_w","$avail_space","$pic_link","$fullpic","$caption","$filmstrip_hover","$filmstrip_click","scroll_filmstrip_preview","$strip","$strip_pics","$num_pics","size","$unit_w","$full_w","$nav_w","$big_pic_w","$view_w","$cur_left","$direction","$out_of_bounds","abs","$increment","print","$menus","prev","$sub_items","$parent_items","toggle_children","show_menu_context","$menu","$curr_item","$curr_depth","prevUntil","$ancestors","$depth","$next_depth","nextUntil","$widget","$widget_id","rss_url","site_url","url_bits","cat_name","rss_icon","widgetTitle","site_link","$extras","$post_url","contents","$dow_names","$is_math","$e_name","after","$date_html","$date","$date_copy","$date_bits","$mon","toLowerCase","$day","$time","$is_date_span","$today_obj","$cur_year","getFullYear","$cur_mon","getMonth","$event_date_obj","$event_mon","setFullYear","$event_dow","getDay","$roll_date","$all_html","$lwl","$math_thumb","$math_dow","$math_time","next","$more","$thumb","$too_small","$bigger","$scroll_root","wp","view","Settings","Gallery","render","apply","arguments","template","gallery","defaults","doQuadContainer","$quads","slice","$toContain","forEach","$wrapper"],"mappings":"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B,KAAxB,CAAjB;AACAskB,YAAQ,CAACnT,YAAT,CAAuB,OAAvB,EAAgC,gBAAhC;AACArV,sFAAA,CAAyBsoB,UAAzB,EAAqCE,QAArC;AACD,GAvBD;;AAyBAL,iBAAe;AAChB,CA3BA,EAAD,C;;;;;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;;AAEA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,qDAAqD;AACrD,OAAO;AACP;AACA,OAAO;AACP,4EAA4E;AAC5E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B,qBAAqB;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,qCAAqC,0BAA0B;AAC/D;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA6B,0BAA0B,eAAe;AACtE;;AAEO;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;UC5lBA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCrBA;WACA;WACA;WACA;WACA;WACA,gCAAgC,YAAY;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;UCNA;UACA;UACA;UACA","file":"main.js","sourcesContent":["\"use strict\";\r\n\r\nexport const Common = (\r\n  ( $ ) => {\r\n  const elements = {\r\n    hasClass: function ( el, className ) {\r\n      if(!el){\r\n        return false;\r\n      }\r\n      return el.classList ? el.classList.contains( className ) : new RegExp( '\\\\b' + className + '\\\\b' ).test( el.className );\r\n    },\r\n    addClass: ( el, className ) => {\r\n      if ( el.classList ) {\r\n        el.classList.add( className );\r\n      } else if ( !hasClass( el, className ) ) {\r\n        el.className += ' ' + className;\r\n      }\r\n      return el;\r\n    },\r\n    removeClass: ( el, className ) => {\r\n      if ( el.classList ) {\r\n        el.classList.remove( className );\r\n      } else {\r\n        el.className = el.className.replace( new RegExp( '\\\\b' + className + '\\\\b', 'g' ), '' );\r\n      }\r\n      return el;\r\n    },\r\n    // Wrap wrapper around nodes\r\n    // Just pass a collection of nodes, and a wrapper element\r\n    wrapAll: ( nodes, wrapper ) => {\r\n      // Cache the current parent and previous sibling of the first node.\r\n      var parent = nodes[0].parentNode;\r\n      var previousSibling = nodes[0].previousSibling;\r\n\r\n      // Place each node in wrapper.\r\n      //  - If nodes is an array, we must increment the index we grab from\r\n      //    after each loop.\r\n      //  - If nodes is a NodeList, each node is automatically removed from\r\n      //    the NodeList when it is removed from its parent with appendChild.\r\n      for ( var i = 0; nodes.length - i; wrapper.firstChild === nodes[0] && i++ ) {\r\n        wrapper.appendChild( nodes[i] );\r\n      }\r\n\r\n      // Place the wrapper just after the cached previousSibling,\r\n      // or if that is null, just before the first child.\r\n      var nextSibling = previousSibling ? previousSibling.nextSibling : parent.firstChild;\r\n      parent.insertBefore( wrapper, nextSibling );\r\n\r\n      return wrapper;\r\n    },\r\n    // Similar to jQuery closest(). Finds closest element by selector.\r\n    findAncestor: ( el, sel ) => {\r\n      if ( !el ) {\r\n        return false;\r\n      }\r\n      if ( !Element.prototype.matches ) {\r\n        Element.prototype.matches = Element.prototype.msMatchesSelector ||\r\n          Element.prototype.webkitMatchesSelector;\r\n      }\r\n\r\n      if ( !Element.prototype.closest ) {\r\n        Element.prototype.closest = function ( s ) {\r\n          var el = this;\r\n          if ( !document.documentElement.contains( el ) ) {\r\n            return null;\r\n          }\r\n          do {\r\n            if ( el.matches( s ) ) {\r\n              return el;\r\n            }\r\n            el = el.parentElement || el.parentNode;\r\n          } while ( el !== null && el.nodeType === 1 );\r\n          return null;\r\n        };\r\n      }\r\n\r\n      return el.closest( sel );\r\n    }\r\n  };\r\n\r\n  const initTooltips = (extraSelectors => {\r\n    if ( $.isFunction( 'tooltip' ) ) {\r\n      const selectors = extraSelectors ? '.tooltip, ' + extraSelectors : '.tooltip';\r\n      const doTooltip = selectors => {\r\n        $( selectors ).tooltip( {\r\n          content: function () {\r\n            const $el = $( this );\r\n            const $tt = $el.find( '.tt' ).clone();\r\n            $tt.attr( 'class', '' ); // for safety\r\n            return $tt.length ? $tt[0].outerHTML : $el.prop( 'title' );\r\n          }\r\n        } );\r\n      };\r\n      doTooltip( selectors );\r\n    }\r\n  })();\r\n\r\n  const getPageUrl = () => {\r\n    const $d_url = $.url();\r\n    const page_url = $d_url.attr( 'protocol' ) + '://' + $d_url.attr( 'host' ) + $d_url.attr( 'path' );\r\n    return {\r\n      urlObj: $d_url,\r\n      pageUrl: page_url\r\n    };\r\n  };\r\n\r\n  const appendAnchor = ( $el, url ) => {\r\n    const $anchor = $( '<button class=\"link-anchor\" title=\"Click to copy link\" href=\"' + url + '\"><span class=\"visuallyhidden\">Click to copy link</span></button>' );\r\n    const copyTextToClipboard = ( event, text ) => {\r\n      const textArea = document.createElement( \"textarea\" );\r\n      /**** This styling is an extra step which is likely not required. ***\r\n\r\n       Why is it here? To ensure:\r\n       1. the element is able to have focus and selection.\r\n       2. if element was to flash render it has minimal visual impact.\r\n       3. less flakyness with selection and copying which **might** occur if\r\n       the textarea element is not visible.\r\n\r\n       The likelihood is the element won't even render, not even a flash,\r\n       so some of these are just precautions. However in IE the element\r\n       is visible whilst the popup box asking the user for permission for\r\n       the web page to copy to the clipboard.\r\n\r\n       Place in top-left corner of screen regardless of scroll position.\r\n       */\r\n\r\n      textArea.style.position = 'fixed';\r\n      textArea.style.top = 0;\r\n      textArea.style.left = 0;\r\n      // Ensure it has a small width and height. Setting to 1px / 1em\r\n      // doesn't work as this gives a negative w/h on some browsers.\r\n      textArea.style.width = '2em';\r\n      textArea.style.height = '2em';\r\n      // We don't need padding, reducing the size if it does flash render.\r\n      textArea.style.padding = 0;\r\n      // Clean up any borders.\r\n      textArea.style.border = 'none';\r\n      textArea.style.outline = 'none';\r\n      textArea.style.boxShadow = 'none';\r\n      // Avoid flash of white box if rendered for any reason.\r\n      textArea.style.background = 'transparent';\r\n      textArea.value = text;\r\n      document.body.appendChild( textArea );\r\n      textArea.select();\r\n      let msg;\r\n      try {\r\n        const successful = document.execCommand( 'copy' );\r\n        msg = successful ? 'Copied to clipboard' : 'Oops, unable to copy';\r\n        console.log( msg );\r\n      }\r\n      catch ( err ) {\r\n        msg = 'Oops, unable to copy';\r\n        console.log( msg );\r\n      }\r\n      // Cache $target\r\n      const $target = $( event.target );\r\n      // First close tooltip, which should be open on hover\r\n      $target.tooltip( 'close' );\r\n      // Get the original message\r\n      const oldMsg = $target.tooltip( \"option\", \"content\" );\r\n      // Set the tool tip to the success/fail message\r\n      $target.tooltip( \"option\", \"content\", msg );\r\n      // Open the tooltip with the new message\r\n      $target.tooltip( 'open' );\r\n      // For some reason, the tooltip doesn't close automatically\r\n      // unless the hide option is reset\r\n      $target.tooltip( \"option\", \"hide\", {\r\n        effect: \"fade\",\r\n        duration: 1000\r\n      } );\r\n      // Close the tooltip after an interval\r\n      setTimeout( function () {\r\n        $target.tooltip( 'close' );\r\n      }, 1000 );\r\n      // Set message back to original after close.\r\n      $target.on( \"tooltipclose\", function ( event, ui ) {\r\n        $( this ).tooltip( \"option\", \"content\", oldMsg );\r\n      } );\r\n      document.body.removeChild( textArea );\r\n    };\r\n    $anchor.tooltip( {\r\n      position: {\r\n        my: \"left top+20\",\r\n        at: \"left bottom\",\r\n        collision: \"flipfit\",\r\n        track: true\r\n      }\r\n    } ).on( 'click', function ( event ) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      copyTextToClipboard( event, url );\r\n    } );\r\n    $el.append( $anchor );\r\n  };\r\n\r\n  const loadImages = srcs => {\r\n    const loadImage = src => {\r\n      const deferred = when.defer(),\r\n            img      = document.createElement( 'img' );\r\n      img.onload = function () {\r\n        deferred.resolve( img );\r\n      };\r\n      img.onerror = function () {\r\n        deferred.reject( new Error( 'Image not found: ' + src ) );\r\n      };\r\n      img.src = src;\r\n\r\n      // Return only the promise, so that the caller cannot\r\n      // resolve, reject, or otherwise muck with the original deferred.\r\n      return deferred.promise;\r\n    };\r\n\r\n    // srcs = array of image src urls\r\n    // Array to hold deferred for each image being loaded\r\n    const deferreds = [];\r\n\r\n    // Call loadImage for each src, and push the returned deferred\r\n    // onto the deferreds array\r\n    for ( let i = 0, len = srcs.length; i < len; i++ ) {\r\n      deferreds.push( loadImage( srcs[i] ) );\r\n\r\n      // NOTE: We could push only the promise, but since this array never\r\n      // leaves the loadImages function, it's ok to push the whole\r\n      // deferred.  No one can gain access to them.\r\n      // However, if this array were exposed (e.g. via return value),\r\n      // it would be better to push only the promise.\r\n    }\r\n\r\n    // Return a new promise that will resolve only when all the\r\n    // promises in deferreds have resolved.\r\n    // NOTE: when.all returns only a promise, not a deferred, so\r\n    // this is safe to expose to the caller.\r\n    return when.all( deferreds );\r\n  };\r\n\r\n  const showAjaxLoading = (() => {\r\n    $( '#fancybox-loading, .ajax-loading' ).ajaxStart( function () {\r\n      $( this ).show();\r\n    } ).ajaxStop( function () {\r\n      $( this ).hide();\r\n    } );\r\n  })();\r\n\r\n  const touchpunch = (() => {\r\n    /*!\r\n     * jQuery UI Touch Punch 0.2.2\r\n     *\r\n     * Copyright 2011, Dave Furfero\r\n     * Dual licensed under the MIT or GPL Version 2 licenses.\r\n     *\r\n     * Depends:\r\n     *  jquery.ui.widget.js\r\n     *  jquery.ui.mouse.js\r\n     */\r\n    !function ( a ) {\r\n      function e( a, b ) {\r\n        if ( !(a.originalEvent.touches.length > 1) ) {\r\n          a.preventDefault();\r\n          var c = a.originalEvent.changedTouches[0], d = document.createEvent( \"MouseEvents\" );\r\n          d.initMouseEvent( b, !0, !0, window, 1, c.screenX, c.screenY, c.clientX, c.clientY, !1, !1, !1, !1, 0, null ), a.target.dispatchEvent( d )\r\n        }\r\n      }\r\n\r\n      if ( a.support.touch = \"ontouchend\" in document, a.support.touch ) {\r\n        var d, b = a.ui.mouse.prototype, c = b._mouseInit;\r\n        b._touchStart = function ( a ) {\r\n          var b = this;\r\n          !d && b._mouseCapture( a.originalEvent.changedTouches[0] ) && (d = !0, b._touchMoved = !1, e( a, \"mouseover\" ), e( a, \"mousemove\" ), e( a, \"mousedown\" ))\r\n        }, b._touchMove = function ( a ) {\r\n          d && (this._touchMoved = !0, e( a, \"mousemove\" ))\r\n        }, b._touchEnd = function ( a ) {\r\n          d && (e( a, \"mouseup\" ), e( a, \"mouseout\" ), this._touchMoved || e( a, \"click\" ), d = !1)\r\n        }, b._mouseInit = function () {\r\n          var b = this;\r\n          b.element.bind( \"touchstart\", a.proxy( b, \"_touchStart\" ) ).bind( \"touchmove\", a.proxy( b, \"_touchMove\" ) ).bind( \"touchend\", a.proxy( b, \"_touchEnd\" ) ), c.call( b )\r\n        }\r\n      }\r\n    }( $ );\r\n  })();\r\n\r\n  const addJqueryFilters = (() => {\r\n    // creates a .Contains selector for case insensitive contains\r\n    $.expr[':'].Contains = function ( a, i, m ) {\r\n      return (a.textContent || a.innerText || \"\").toUpperCase().indexOf( m[3].toUpperCase() ) >= 0;\r\n    };\r\n    $.fn.setup_filter = function ( changeCallback, keydownCallback, clearCallback ) {\r\n      return this.each( function () {\r\n        var $input = $( this );\r\n\r\n        // Define placeholder\r\n        if ( typeof($input.data( 'placeholder' )) === 'undefined' ) {\r\n          $input.data( 'placeholder', 'Filter list' );\r\n        }\r\n\r\n        var placeholder = $input.data( 'placeholder' );\r\n        var $name = $input.attr( 'name' );\r\n\r\n        // Handle events\r\n        $input\r\n          .wrap( '<span class=\"filter-wrapper bt-search\"></span>' )\r\n          .val( function () {\r\n            // if no query string value, we'll use the placeholder text\r\n            var $url = $.url();\r\n            if ( !$url.attr( 'query' ).length || typeof($url.param( $name )) === 'undefined' ) {\r\n              return $input.data( 'placeholder' );\r\n            } else {\r\n              return $url.param( $name );\r\n            }\r\n          } )\r\n          .blur( function () {\r\n            if ( this.value == '' ) {\r\n              this.value = placeholder;\r\n            }\r\n          } )\r\n          .focus( function () {\r\n            if ( this.value == placeholder ) {\r\n              this.value = '';\r\n            }\r\n          } )\r\n          .keydown( function ( e ) {\r\n            if ( typeof(keydownCallback) === 'function' ) {\r\n              keydownCallback( e );\r\n            }\r\n          } )\r\n          .keyup( function () {\r\n            $input.change();\r\n          } )\r\n          .change( function () {\r\n            if ( typeof(changeCallback) === 'function' ) {\r\n              changeCallback();\r\n            }\r\n          } );\r\n\r\n        // Clear filter link functionality\r\n        $( '<a class=\"clear-filter bt-times\" href=\"javascript:void(0)\"></a>' )\r\n          .insertAfter( $input )\r\n          .click( function ( e ) {\r\n            e.preventDefault();\r\n            // reset placeholder text\r\n            $input.val( placeholder );\r\n            if ( typeof(clearCallback) === 'function' ) {\r\n              clearCallback();\r\n            }\r\n          } );\r\n\r\n        // Perform search on load\r\n        if ( $input.val() !== $input.data( 'placeholder' ) && typeof(changeCallback) === 'function' ) {\r\n          changeCallback();\r\n        }\r\n\r\n      } );\r\n    };\r\n  })();\r\n  return {\r\n    elements: elements,\r\n    getPageUrl: getPageUrl,\r\n    appendAnchor: appendAnchor,\r\n    loadImages: loadImages\r\n  }\r\n})( window.jQuery );","import { Common } from './common.es6';\r\n\r\n/**\r\n * Build expando or tab groups.\r\n *\r\n * @uses wms.common.getPageUrl\r\n * @uses wms.common.appendAnchor\r\n */\r\n!(function ( $ ) {\r\n  \"use strict\";\r\n  $.fn.expando = function ( options ) {\r\n    return this.each(\r\n      function () {\r\n        if ( $( this ).hasClass( 'expando-js' ) ) {\r\n          return;\r\n        }\r\n\r\n        // These are the defaults.\r\n        const settings = $.extend( {\r\n          isExpando: false,\r\n          open: false,\r\n          hideAnchor: false,\r\n          singleOpen: false\r\n        }, options );\r\n\r\n        // Set internal variable and initialize.\r\n        const $expandoGroup = $( this ).data( { 'is_init': true } ).addClass( 'expando-js' );\r\n\r\n        // Expando group be styled as expandos or tabs?\r\n        let isExpando = settings.isExpando || Boolean( $expandoGroup.data( 'is_expando' ) );\r\n\r\n        // Hide Copy Link anchor.\r\n        const hideAnchor = settings.hideAnchor || Boolean( $expandoGroup.data( 'hide_anchor' ) );\r\n\r\n        // If expando, only one item open concurrently.\r\n        const singleOpen = settings.singleOpen || Boolean( $expandoGroup.data( 'single_open' ) );\r\n\r\n        // Which item to open on load.\r\n        const open = settings.open || parseInt( $expandoGroup.data( 'open' ) );\r\n\r\n        // Get $.url object for page.\r\n        const url = Common.getPageUrl();\r\n\r\n        // Object library containing all items in group.(Not used yet)\r\n        const myItems = {};\r\n\r\n        init();\r\n\r\n        /**\r\n         * Initialize accordion group\r\n         */\r\n        function init() {\r\n          closeAll();\r\n          initItems();\r\n          addEvents();\r\n          detectExpando();\r\n        }\r\n\r\n        function initItems() {\r\n          $expandoGroup\r\n            .find( '> li.expando' )\r\n            .each( ( i, el ) => {\r\n              initItem( i, el );\r\n            } );\r\n        }\r\n\r\n        /**\r\n         * Initialize tab/expando\r\n         * @param el\r\n         * @param i\r\n         */\r\n        function initItem( i, el ) {\r\n          // Not yet used. Store items for easier actions.\r\n          myItems[$( el ).attr( 'id' )] = i;\r\n\r\n          // Add toggle control that displays child menu items.\r\n          const $dropdownToggle = $( '<span />', {\r\n            'class': 'dropdown-toggle',\r\n          } );\r\n\r\n          const $button = $( el ).find( '> button' );\r\n\r\n          const id = $( el ).find( '> .expando-content' ).attr( 'id' );\r\n\r\n          $button\r\n            .append( $dropdownToggle )\r\n            .attr( {\r\n              'aria-expanded': 'false',\r\n              //'aria-label': 'Toggle section',\r\n              'aria-controls': id ? id : ''\r\n            } )\r\n            .click( e => {\r\n              e.preventDefault();\r\n              doClick( $( el ) );\r\n            } );\r\n\r\n          if ( !hideAnchor ) {\r\n            appendAnchor( $( el ) );\r\n          }\r\n        }\r\n\r\n        /**\r\n         * Media query event listener (https://www.sitepoint.com/javascript-media-queries/)\r\n         */\r\n        function addEvents() {\r\n          //If this isn't an expando, listen for width change to display as expando at small widths.\r\n          $( window ).resize( function () {\r\n            detectExpando();\r\n          } );\r\n        }\r\n\r\n        /**\r\n         * Check to see if collective item width is > main content area and collapse to expando.\r\n         */\r\n        function detectExpando() {\r\n          // Only do this if the accordion is NOT expando by default.\r\n          if ( !$expandoGroup.data( 'is_expando' ) ) {\r\n            // Remove this to get non-expando context tab width\r\n            toggleAsExpando( false );\r\n\r\n            // Minus 5 to add small tolerance for mouse event timing\r\n            const thisWidth = $expandoGroup.width() - 5;\r\n            let tabsWidth = 0;\r\n\r\n            // Add widths of all tabs to get total\r\n            $expandoGroup.find( '> li.expando' ).each( function () {\r\n              tabsWidth += $( this ).outerWidth( true );\r\n            } );\r\n\r\n            // Force expando if the accordion is narrower than the tabs\r\n            if ( thisWidth <= tabsWidth ) {\r\n              toggleAsExpando( true );\r\n            }\r\n          } else {\r\n            toggleAsExpando( true );\r\n          }\r\n          checkActiveItem();\r\n        }\r\n\r\n        /**\r\n         * Add/remove expando styling\r\n         * @param which\r\n         */\r\n        function toggleAsExpando( which ) {\r\n          switch ( which ) {\r\n            case false:\r\n              isExpando = false;\r\n              $expandoGroup.removeClass( 'is-expando' );\r\n              break;\r\n            case true:\r\n              isExpando = true;\r\n              $expandoGroup.addClass( 'is-expando' );\r\n              break;\r\n          }\r\n        }\r\n\r\n        /**\r\n         * When toggling states (expando to tab), check and init an item state\r\n         */\r\n        function checkActiveItem() {\r\n          let $current = {};\r\n\r\n          // Only run this on page load.\r\n          if ( $expandoGroup.data( 'is_init' ) ) {\r\n            $expandoGroup.data( 'is_init', false );\r\n\r\n            // Open if id has been passed by url hash.\r\n            const id = url.urlObj.attr( 'fragment' );\r\n            if ( id && $expandoGroup.find( '#' + id ).length ) {\r\n              $current = $expandoGroup.find( '> li.expando#' + id );\r\n            }\r\n\r\n            // Open item passed in config\r\n            if ( !$current.length && isNumber( open ) ) {\r\n              // If open is a positive number\r\n              const index = (open > 0) ? open - 1 : 0;\r\n              $current = $expandoGroup.find( '> li.expando' ).eq( index );\r\n            }\r\n          }\r\n\r\n          // If this is tabs, open the first active item or first tab\r\n          if ( !$current.length && !isExpando ) {\r\n            $current = $expandoGroup.find( '> li.expando.is-active' ).first();\r\n            if ( !$current.length ) {\r\n              $current = $expandoGroup.find( '> li.expando' ).eq( 0 );\r\n            }\r\n          }\r\n\r\n          // If we have found one of the cases above\r\n          if ( $current.length ) {\r\n            doClick( $current );\r\n          }\r\n        }\r\n\r\n        /**\r\n         * Open or toggle item if exists.\r\n         * @param $item\r\n         */\r\n        function doClick( $item ) {\r\n          if ( !$item.length ) {\r\n            return false;\r\n          }\r\n\r\n          if ( !isExpando || singleOpen && !$item.hasClass( 'is-active' ) ) {\r\n            // If this is a tab group\r\n            openItem( $item );\r\n          } else {\r\n            // Open or close tab\r\n            toggleItem( $item );\r\n          }\r\n        }\r\n\r\n        function openItem( $item ) {\r\n          closeAll();\r\n\r\n          const $button = $item.find(' > button');\r\n\r\n          $item\r\n            .addClass( 'is-active' )\r\n            .find( '> .expando-content' )\r\n            .each( ( i, el ) => {\r\n              $( el ).addClass( 'is-open' );\r\n              if ( isExpando ) {\r\n                $( el ).slideDown( 100, reloadItem( $item ) );\r\n              } else {\r\n                $( el ).show( 0, function () {\r\n                  reloadItem( $item );\r\n                } );\r\n              }\r\n            } );\r\n\r\n          $button.attr( {\r\n            'aria-expanded': 'true'\r\n          } );\r\n        }\r\n\r\n        function closeItem( $item ) {\r\n          const $subsection = $item.find( '> .expando-content' ),\r\n                $button     = $item.find( '> button ' ); // ul.sub-menu\r\n\r\n          $item\r\n            .removeClass( 'is-active' );\r\n\r\n          $subsection.each( ( i, el ) => {\r\n            $( el ).removeClass( 'is-open' );\r\n            if ( isExpando ) {\r\n              $( el ).slideUp( 50 );\r\n            } else {\r\n              $( el ).hide();\r\n            }\r\n          } );\r\n\r\n          $button.attr({\r\n            'aria-expanded': 'false'\r\n          });\r\n        }\r\n\r\n        function toggleItem( $item ) {\r\n          if ( $item.hasClass( 'is-active' ) ) {\r\n            closeItem( $item );\r\n          } else {\r\n            openItem( $item );\r\n          }\r\n        }\r\n\r\n        function closeAll() {\r\n          $expandoGroup.find( '> li.expando' ).each( function () {\r\n            closeItem( $( this ) );\r\n          } );\r\n        }\r\n\r\n        function openAll() {\r\n          $expandoGroup.find( '> li.expando' ).each( function () {\r\n            openItem( $( this ) );\r\n          } );\r\n        }\r\n\r\n        /**\r\n         * Reload iframes in items\r\n         * @param $item\r\n         */\r\n        function reloadItem( $item ) {\r\n          const $WmsInclude = $item.find( ' > .WmsInclude' );\r\n          if ( $WmsInclude.length ) {\r\n            $WmsInclude.attr( 'src', function ( i, val ) {\r\n              return val;\r\n            } );\r\n          }\r\n        }\r\n\r\n        /**\r\n         * Append anchor link\r\n         * @param $item\r\n         */\r\n        function appendAnchor( $item ) {\r\n          const anchor_url = url.pageUrl + '#' + $item.attr( 'id' );\r\n          Common.appendAnchor( $item, anchor_url );\r\n        }\r\n\r\n        /**\r\n         * Utility function for determining if a value is numeric.\r\n         * @param n\r\n         * @returns {boolean}\r\n         */\r\n        function isNumber( n ) {\r\n          return !isNaN( parseFloat( n ) ) && isFinite( n );\r\n        }\r\n\r\n      }\r\n    );\r\n  };\r\n  $( '.expandos' ).expando();\r\n})( jQuery );\r\n","'use strict';\r\nexport const Events = {\r\n  /**\r\n   * @module Pub-Sub Singleton\r\n   * @type {{Events: [], current: '', on: on, off: off, emit: emit}}\r\n   */\r\n  events: [],\r\n  on: function ( eventName, fn ) {\r\n    const fns = typeof fn === 'function' ? [fn] : fn;\r\n    this.events[eventName] = this.events[eventName] || [];\r\n    fns.map( fn => this.events[eventName].push( fn ) );\r\n  },\r\n  off: function ( eventName, fn ) {\r\n    if ( this.events[eventName] ) {\r\n      for ( var i = 0; i < this.events[eventName].length; i++ ) {\r\n        if ( this.events[eventName][i] === fn ) {\r\n          this.events[eventName].splice( i, 1 );\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  emit: function ( eventName, data ) {\r\n    if ( this.events[eventName] ) {\r\n      for(let i = 0; i < this.events[eventName].length; i++){\r\n        this.events[eventName][i](data, eventName);\r\n      }\r\n      /*this.events[eventName].forEach( function ( fn ) {\r\n        fn( data, eventName );\r\n      } );*/\r\n    }\r\n  }\r\n};","/**\r\n * Entry point of app.\r\n */\r\n\"use strict\";\r\n\r\nimport { Events } from '../../../../assets/js/src/modules/class.events.es6.js';\r\nimport { Tools } from './modules/class.tools.es6';\r\nimport { Cookies } from './modules/class.cookies.es6';\r\nimport { Elements } from './modules/class.elements.es6';\r\nimport { Links } from './modules/class.links.es6';\r\nimport { User } from './modules/class.user.es6';\r\n\r\n!(\r\n  function ( $ ) {\r\n    // Block IE11-\r\n    if (!!window.MSInputMethodContext && !!document.documentMode) {\r\n      console.log('Quicklinks is not supported');\r\n      return;\r\n    }\r\n    if(!document.getElementById('quicklinks-container')) {\r\n      return;\r\n    }\r\n\r\n    //Touchpunch disables input form.\r\n    $( 'input, li' ).on( 'click', function () {\r\n      $( this ).focus();\r\n    } );\r\n    \r\n    /**\r\n     * These are the cookies the app will use.\r\n     */\r\n    const cookiesMap = {\r\n      quicklinks: 'quicklinks',\r\n      username: 'quicklinks_user',\r\n      nohelp: 'quicklinks_nohelp',\r\n      menu: 'quicklinks_toggled'\r\n    };\r\n    \r\n    /**\r\n     * @requires {$}\r\n     * @requires {Elements}\r\n     * @requires {Cookies}\r\n     * @requires {User}\r\n     * @requires {Tools}\r\n     */\r\n    function init() {\r\n      // Add interface events.\r\n      registerAsyncEvents();\r\n      // Hook into ajax events.\r\n      Elements.attachFrontElements();\r\n      // Load cookies before user.\r\n      Cookies.init( cookiesMap );\r\n      \r\n      User.init( {\r\n        'quicklinks': Links.cookieObjectToLinks( Cookies.get( 'quicklinks' ) ),\r\n        'username': Cookies.get( 'username' ),\r\n        'linksChanged': !!Cookies.get( 'quicklinks' ),\r\n        'status': Cookies.get( 'username' ) && !Cookies.get( 'quicklinks' ) ? 'restore' : 'init'\r\n      } );\r\n      \r\n      Tools.init();\r\n      \r\n      Elements.addGaTracking();\r\n    }\r\n    \r\n    /**\r\n     * Central switchboard to handle async events.\r\n     *\r\n     * @todo Possible to replace with generators?\r\n     * @requires {Events}\r\n     */\r\n    function registerAsyncEvents() {\r\n      Events.on( 'afterInitUser', afterInitUser );\r\n      Events.on( 'afterSaveUser', afterSaveUser );\r\n      Events.on( 'updateUserLinks', updateUserLinks );\r\n      Events.on( 'afterLoadLinks', afterLoadLinks );\r\n      Events.on( 'afterShowOverlay', afterShowOverlay );\r\n      Events.on( 'afterLoginFail', afterLoginFail );\r\n      \r\n      Events.on( 'edit', Elements.initLinkForm );\r\n      Events.on( 'afterSortable', afterSortable );\r\n      Events.on( 'prepend', Links.prepend );\r\n      Events.on( 'save', Links.save );\r\n      Events.on( 'remove', Links.remove );\r\n      Events.on( 'insert', Links.insert );\r\n      Events.on( 'swap', Links.swap );\r\n    }\r\n    \r\n    const afterInitUser = links => {\r\n      Links.init( links );\r\n    };\r\n    \r\n    /**\r\n     *\r\n     */\r\n    const updateUserLinks = ( links ) => {\r\n      User.update( {\r\n        'quicklinks': links,\r\n        'status': 'save',\r\n        'linksChanged': true\r\n      } );\r\n    };\r\n    \r\n    const afterSaveUser = () => {\r\n      Elements.setStatus( User.getProperty( 'status' ), 'editorStatus' );\r\n      setCookies();\r\n    };\r\n    \r\n    const afterLoadLinks = index => {\r\n      setCookies();\r\n      Elements.initEditor( User.getUser() );\r\n      Elements.initFront( User.getUser() );\r\n      Elements.setLoginElements( User.getUser() );\r\n      Elements.fadeBackground( index );\r\n    };\r\n    \r\n    /**\r\n     * Init editor interface.\r\n     */\r\n    const afterShowOverlay = () => {\r\n      Elements.attachEditorElements();\r\n      Links.loadAll();\r\n    };\r\n    \r\n    const afterLoginFail = user => Elements.setLoginElements( user );\r\n    \r\n    /**\r\n     * Handle droppable/sortable events.\r\n     * @param obj\r\n     */\r\n    const afterSortable = obj => {\r\n      switch ( obj.type ) {\r\n        case 'swap':\r\n          const index = obj.current;\r\n          const original = obj.original;\r\n          Events.emit( 'swap', { index, original } );\r\n          break;\r\n        case 'insert':\r\n          insertLink( obj.item );\r\n      }\r\n    };\r\n    \r\n    const setCookies = () => {\r\n      if ( User.getProperty( 'username' ) ) {\r\n        Cookies.set( 'username', User.getProperty( 'username' ) );\r\n      } else {\r\n        Cookies.unset( 'username' );\r\n      }\r\n      if ( User.getProperty( 'linksChanged' ) ) {\r\n        Cookies.set( 'quicklinks', Links.linksToCookieObject( User.getProperty( 'quicklinks' ) ) );\r\n      } else {\r\n        Cookies.unset( 'quicklinks' );\r\n      }\r\n    };\r\n    \r\n    /**\r\n     * Add static link to user links at position.\r\n     *\r\n     * @requires {Link}\r\n     * @param item\r\n     */\r\n    const insertLink = item => {\r\n      const title = item.text();\r\n      const url = item.find( 'a' )[ 0 ].href;\r\n      const link = { title, url };\r\n      const index = item.index();\r\n      Events.emit( 'insert', { link, index } );\r\n    };\r\n    \r\n    init();\r\n  }\r\n)( window.jQuery );","/**\r\n * @module Cookies\r\n *\r\n * Cookie store and utilities\r\n */\r\n\"use strict\";\r\nexport const Cookies = (function () {\r\n  const expires = new Date( 2030, 10, 30 );\r\n\r\n  let cookies = {};\r\n\r\n  /**\r\n   * 1. Initialize cookies property with map object in this form:\r\n   *    {\r\n   *      easyName0: 'longAndComplicatedName0',\r\n   *      easyName1: 'longAndComplicatedName1',\r\n   *      easyName2: 'longAndComplicatedName2'\r\n   *    }\r\n   *\r\n   * 2. Initialize status cookie.\r\n   * 3. Load cookie values into passed in object.\r\n   *\r\n   * @param cookiesMap {Object}\r\n   */\r\n  const init = ( cookiesMap ) => {\r\n    cookies = cookiesMap;\r\n  };\r\n\r\n  /**\r\n   * Return single cookie value.\r\n   * @param key\r\n   * @returns {*}\r\n   */\r\n  const get = key => readCookie( cookies[key] );\r\n\r\n  /**\r\n   * Set single cookie value.\r\n   * @param key\r\n   * @param value\r\n   * @param persistent\r\n   * @private\r\n   */\r\n  const set = ( key, value, persistent = true ) => {\r\n    if ( value !== false ) {\r\n      const exp = persistent ? `expires=${expires};` : ``;\r\n      document.cookie = `${cookies[key]}=${value};domain=${myAjax.domain};path=/;${exp}`;\r\n    }\r\n    //console.log( \"Set\", cookies[key] + \":\", get( key ) );\r\n  };\r\n\r\n  /**\r\n   * Set all object property values to matching cookie values.\r\n   * @private\r\n   */\r\n  const mapPropertiesToObj = obj => {\r\n    Object.keys( obj ).map( key => {\r\n      obj[key] = get( key );\r\n    } );\r\n  };\r\n\r\n  /**\r\n   * Set cookie values to object property values.\r\n   * @param updated\r\n   * @private\r\n   */\r\n  const updateAll = updated => {\r\n    Object.keys( updated ).map( key => set( key, updated[key] ) );\r\n  };\r\n\r\n  /**\r\n   * Unset single cookie value.\r\n   * @param key\r\n   * @private\r\n   */\r\n  const unset = key => set( key, '' );\r\n\r\n  /**\r\n   * Unset all cookie values.\r\n   * @private\r\n   */\r\n  const unsetAll = () => Object.keys( cookies ).map( key => unset( key ) );\r\n\r\n  /**\r\n   * Utility function to retrieve single cookie value.\r\n   * @param key\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  const readCookie = ( key ) => {\r\n    const nameEQ = key + \"=\";\r\n    const ca = document.cookie.split( ';' );\r\n    for ( let i = 0; i < ca.length; i++ ) {\r\n      let c = ca[i];\r\n      while ( c.charAt( 0 ) == ' ' ) {\r\n        c = c.substring( 1, c.length );\r\n      }\r\n      if ( c.indexOf( nameEQ ) == 0 ) {\r\n        return c.substring( nameEQ.length, c.length );\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  /**\r\n   * Output cookie values to console.\r\n   * @private\r\n   */\r\n  const logAll = () => {\r\n    Object.keys( cookies ).map( key => console.log( cookies[key], \":\", get( key ) ) );\r\n  };\r\n\r\n  return {\r\n    init: init,\r\n    get: get,\r\n    set: set,\r\n    unset: unset,\r\n    mapPropertiesToObj: mapPropertiesToObj,\r\n    updateAll: updateAll,\r\n    unsetAll: unsetAll,\r\n    logAll: logAll\r\n  }\r\n})();","/**\r\n * @module Elements Object\r\n */\r\n\"use strict\";\r\nimport { Common } from '../../../../../assets/js/src/common.es6';\r\nimport { Events } from '../../../../../assets/js/src/modules/class.events.es6.js';\r\nimport '../../../../../assets/js/src/expando_tabs.es6';\r\n\r\nexport const Elements = (function ( $ ) {\r\n    const front = {\r\n      // Mega menu\r\n      menu: null,\r\n      // Inside QL section of public menu\r\n      container: null,\r\n      // User's default or cookie-saved links\r\n      userLinks: null,\r\n      // Action buttons\r\n      quickActions: null,\r\n      // User logged-in icon\r\n      userIcon: null,\r\n      // Edit button\r\n      quickLaunch: null\r\n    };\r\n    const editor = {\r\n      // Inside editor in lightbox overlay\r\n      container: null,\r\n      // Status messages\r\n      status: null,\r\n      // Initialize static-links filter\r\n      filterInput: null,\r\n      // Container for Help and Login form.\r\n      utilityContainer: null,\r\n      // Info content for new users.\r\n      helpContainer: null,\r\n      // User's default or cookie-saved links\r\n      userLinks: null,\r\n      // All available links: null, generated in lib/inc/class.quicklinks.php\r\n      staticLinks: null,\r\n      // Custom Item form\r\n      customItemForm: null,\r\n      // Divider form\r\n      dividerForm: null\r\n    };\r\n    const login = {\r\n      // Login form container and elements\r\n      container: null,\r\n      form: null,\r\n      // Status messages\r\n      status: null,\r\n    };\r\n\r\n    const getLoc = where => {\r\n      switch ( where ) {\r\n        case 'locFront':\r\n          return front.userLinks;\r\n        case 'locEditor':\r\n          return editor.userLinks;\r\n        case 'locStatic':\r\n          return editor.staticLinks;\r\n        case 'loginStatus':\r\n          return login.status;\r\n        case 'editorStatus':\r\n          return editor.status;\r\n      }\r\n    };\r\n    /**\r\n     * Input filter listener\r\n     */\r\n    const change = () => {\r\n      const search_term = editor.filterInput.val();\r\n      if ( search_term ) {\r\n        [editor.userLinks, editor.staticLinks].map( $list => {\r\n          // Hide non-matches\r\n          $list.find( '.quick-item' ).not( ':Contains(' + search_term + ')' ).hide();\r\n          // Show matches\r\n          $list.find( '.quick-item' + ':Contains(' + search_term + ')' ).show();\r\n        } );\r\n      } else {\r\n        // Show all.\r\n        clear();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Input filter listener\r\n     */\r\n    const clear = () => {\r\n      // clear callback: shows all items in associated list\r\n      [editor.userLinks, editor.staticLinks].map( $list => {\r\n        $list.children().show();\r\n      } );\r\n    };\r\n\r\n    const attachFrontElements = () => {\r\n      front.menu = $( '#network-header-menu' );\r\n      front.container = $( '#quicklinks-container' );\r\n      front.quickActions = front.container.find( '#quick-actions' );\r\n      front.quickLaunch = front.quickActions.find( '#quick-launch' );\r\n      front.userLinks = front.container.find( '#menu-links' );\r\n      // Other actions\r\n      showSpinners( ['locFront'] );\r\n    };\r\n    /**\r\n     *\r\n     * @param user\r\n     */\r\n    const initFront = user => {\r\n      front.quickLaunch.prop( 'disabled', false );\r\n      //setLoginElements( user );\r\n    };\r\n    /**\r\n     *\r\n     * @param user\r\n     * @return {boolean}\r\n     */\r\n    const initEditor = user => {\r\n      if ( !editor.container ) {\r\n        return false;\r\n      }\r\n      hideDismissibles();\r\n      setActiveForTouch();\r\n      initExpandos();\r\n      initDragDropSort();\r\n      window.addEventListener( 'resize', initDragDropSort );\r\n      $( '.ui-tooltip' ).remove();\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    const attachEditorElements = () => {\r\n      // Cache DOM\r\n      editor.container = $( '#quicklinks' );\r\n      editor.status = editor.container.find( '.col-header .quick-status' );\r\n      // Lists and filters\r\n      editor.userLinks = editor.container.find( '#your-links' );\r\n      editor.staticLinks = editor.container.find( '#static-links' );\r\n      // Login form\r\n      login.container = editor.container.find( '#quick-login' );\r\n      login.form = login.container.find( '#quick-login-form' );\r\n      login.status = login.container.find( '.quick-status' );\r\n      // Filter staticLinks\r\n      editor.filterInput = editor.container.find( '#quick-filter-input' );\r\n      editor.filterInput.setup_filter( change, null, clear );\r\n    };\r\n\r\n    const setLoginElements = user => {\r\n      doUserIcon( user );\r\n      if ( editor.container ) {\r\n        editor.container.find( '#user-tab button' )\r\n          .data( 'tool', user.username ? `logout` : `show` )\r\n          .text( user.username ? `Log out ${user.username}` : `Log in` );\r\n\r\n        if ( login.form && login.form.hasClass( 'submitting' ) ) {\r\n          // If login form is open\r\n          if ( user.username ) {\r\n            // Saved status icon\r\n            login.form[0].reset();\r\n            hideDismissibles();\r\n            setStatus( user.status, 'editorStatus' );\r\n          } else {\r\n            setStatus( user.status, 'loginStatus', true );\r\n          }\r\n          login.form.removeClass( 'submitting' );\r\n        }\r\n      }\r\n    };\r\n    /**\r\n     * Set user icon depending on login state.\r\n     * @param user\r\n     */\r\n    const doUserIcon = user => {\r\n      const $icon = document.querySelectorAll( '.quick-user-icon' );\r\n      let title = '';\r\n      for ( let i = 0; i < $icon.length; i++ ) {\r\n        Common.elements.removeClass( $icon[i], 'bts' );\r\n        Common.elements.removeClass( $icon[i], 'btb' );\r\n        Common.elements.removeClass( $icon[i], 'unsaved' );\r\n        Common.elements.removeClass( $icon[i], 'saved' );\r\n        if ( user.username ) {\r\n          title = `You are logged into Quick Links as ${user.username}. Your links will be saved automatically.`;\r\n          Common.elements.addClass( $icon[i], 'bts' );\r\n          Common.elements.addClass( $icon[i], 'saved' );\r\n        } else if ( user.linksChanged ) {\r\n          title = `You have custom Quick Links and you are not logged in. Log in to save or retrieve your Quick Links from your Williams user account.`;\r\n          Common.elements.addClass( $icon[i], 'bts' );\r\n          Common.elements.addClass( $icon[i], 'unsaved' );\r\n        } else {\r\n          title = `You are not logged into Quick Links. Log in to save changes.`;\r\n          Common.elements.addClass( $icon[i], 'btb' );\r\n        }\r\n        $icon[i].setAttribute( 'title', title );\r\n      }\r\n    };\r\n    /**\r\n     * Build form for adding a custom label/link.\r\n     * @param {jQuery} $linkElement\r\n     * @param link\r\n     */\r\n    const initLinkForm = ( { $linkElement, link } ) => {\r\n      closeAllLinkForms();\r\n\r\n      const { title, url } = link;\r\n      const $form = $linkElement.find( 'form' );\r\n\r\n      if ( url && url !== 'undefined' ) {\r\n        $form.find( '.custom-item-url' ).val( url );\r\n      }\r\n      $form.find( '.custom-item-title' ).val( title );\r\n\r\n      $linkElement\r\n        .addClass( 'editing' );\r\n    };\r\n\r\n    const closeAllLinkForms = () => {\r\n      editor.userLinks\r\n        .find( 'li.editing' )\r\n        .removeClass( 'editing' );\r\n    };\r\n\r\n    /**\r\n     * Helper function to convert touch to click for link utility buttons.\r\n     */\r\n    const setActiveForTouch = () => {\r\n      [front.userLinks, editor.userLinks, editor.staticLinks]\r\n        .filter( $links => !!$links )\r\n        .map( $links => {\r\n          $links[0].addEventListener( 'touchend', function ( e ) {\r\n            const $item = $( e.target ).closest( '.quick-item' );\r\n            $( this ).find( '.quick-item' ).removeClass( 'active' );\r\n            $item.toggleClass( 'active' );\r\n          } )\r\n        } );\r\n    };\r\n    /**\r\n     * Show/hide .dismissible elements\r\n     * @param $target\r\n     */\r\n    const showDismissible = $target => {\r\n      const $parent = $target.parent( '.dismissible' );\r\n      $target.add( $parent ).show();\r\n    };\r\n\r\n    const hideDismissibles = () => $( '.dismissible' ).add( '.dismissible > *' ).hide();\r\n\r\n    /**\r\n     * Show and hide ajax spinners.\r\n     * The spinner will be replaced by the loaded content.\r\n     * @todo Fade content.\r\n     *\r\n     * @param locations { Array }\r\n     */\r\n    const showSpinners = locations => {\r\n      const spinner = $( '#quicklinks-spinner-template' ).html();\r\n      locations.map( where => {\r\n        if ( Elements.getLoc( where ).length ) {\r\n          Elements.getLoc( where ).html( spinner );\r\n        }\r\n      } );\r\n    };\r\n\r\n    /**\r\n     * Add Draggable/Droppable behaviors to link lists\r\n     *\r\n     * @requires {$}\r\n     */\r\n    const initDragDropSort = () => {\r\n      // Create sortable/draggable lists.\r\n      // 'draggable' and 'dragstop' must be separate.\r\n      if ( !editor || !editor.staticLinks.find( '.quick-item' ).length ) {\r\n        return;\r\n      }\r\n      editor.staticLinks\r\n        .find( '.quick-item' )\r\n        .draggable( {\r\n          connectToSortable: editor.userLinks,\r\n          helper: 'clone',\r\n          revert: 'invalid',\r\n          containment: editor.container.find( '.quick-content' )\r\n        } );\r\n\r\n      editor.staticLinks\r\n        .find( '.quick-item' )\r\n        .on( 'dragstart', function ( event, ui ) {\r\n\r\n          editor.userLinks.children().show();\r\n\r\n          // Set height & width to match first li\r\n          const $li = ui.helper.parent().find( 'li:first-child' );\r\n          ui.helper\r\n            .css( {\r\n              width: $li.css( 'width' ),\r\n              height: $li.css( 'height' )\r\n            } );\r\n        } );\r\n\r\n      editor.userLinks\r\n        .sortable( {\r\n          start: function ( e, ui ) {\r\n            Events.emit( 'beforeSortable', { item: ui.item } );\r\n            // If this link is from the same list, create a\r\n            // temporary attribute on the link with the original index.\r\n            if ( !ui.item.hasClass( 'ui-draggable' ) ) {\r\n              ui.item.data( 'original', ui.item.index() );\r\n            }\r\n          },\r\n          update: function ( e, ui ) {\r\n            const original = ui.item.data( 'original' );\r\n\r\n            if ( typeof original !== 'number' ) {\r\n              // We're inserting.\r\n              Events.emit( 'afterSortable', { type: 'insert', item: ui.item } );\r\n\r\n            } else {\r\n              // We're swapping.\r\n              const current = ui.item.index();\r\n              ui.item.removeData( 'original' );\r\n\r\n              Events.emit( 'afterSortable', {\r\n                type: 'swap',\r\n                current: current,\r\n                original: original,\r\n                item: ui.item\r\n              } );\r\n            }\r\n          }\r\n        } );\r\n    };\r\n\r\n    const initExpandos = () => {\r\n      $( '#ql-expandos' ).expando( {\r\n        hideAnchor: true,\r\n        singleOpen: true/*,\r\n         open: 3*/\r\n      } );\r\n    };\r\n\r\n    /**\r\n     * Replace mega menu with Quicklinks.\r\n     * @param menuToggled {Boolean}\r\n     */\r\n    const toggleMenu = ( menuToggled ) => {\r\n      front.menu.toggleClass( 'quicklinks-only', menuToggled );\r\n    };\r\n\r\n    const setStatus = ( message, where, noFade = false ) => {\r\n      if ( getLoc( where ) ) {\r\n        if ( noFade ) {\r\n          getLoc( where ).html( message );\r\n        } else {\r\n          getLoc( where ).find( '.fade-out' ).remove();\r\n          getLoc( where ).html( `<span class=\"fade-out\"> ${message} </span>` );\r\n        }\r\n      }\r\n    };\r\n\r\n    const fadeBackground = index => {\r\n      if ( index === false ) {\r\n        return;\r\n      }\r\n\r\n      const userLinksArr = [front.userLinks];\r\n      if ( editor.userLinks ) {\r\n        userLinksArr.push( editor.userLinks );\r\n      }\r\n\r\n      $( userLinksArr ).each( function () {\r\n        $( this )\r\n          .find( 'li' ).eq( index )\r\n          .removeClass( 'fade-background' )\r\n          .addClass( 'fade-background' );\r\n      } );\r\n    };\r\n\r\n    /**\r\n     * Add google analytics event tracking to Landing Page links\r\n     */\r\n    const addGaTracking = () => {\r\n      if ( typeof _gaq == 'undefined' ) {\r\n\t      // Tracking handled by Google Tag Manger (GTM)\r\n          return;\r\n      }\r\n      $( document ).on( 'click', 'li.quick-item a', e => {\r\n        const label = e.target.text;\r\n        const url = e.target.href;\r\n        const event_label = `${label}: ${url}`;\r\n        _gaq.push( ['_trackEvent', 'Quick Links', 'Menu Click', event_label] );\r\n      } );\r\n      $( document ).on( 'click', '.quick-tool', e => {\r\n        const tool = e.target.getAttribute( 'data-tool' );\r\n        _gaq.push( ['_trackEvent', 'Quick Links', 'Tool Click', tool] );\r\n      } );\r\n    };\r\n\r\n    return {\r\n      getLoc: getLoc,\r\n      toggleMenu: toggleMenu,\r\n      attachFrontElements: attachFrontElements,\r\n      attachEditorElements: attachEditorElements,\r\n      showSpinners: showSpinners,\r\n      initEditor: initEditor,\r\n      initDragDropSort: initDragDropSort,\r\n      initFront: initFront,\r\n      initLinkForm: initLinkForm,\r\n      closeAllLinkForms: closeAllLinkForms,\r\n      setStatus: setStatus,\r\n      showDismissible: showDismissible,\r\n      hideDismissibles: hideDismissibles,\r\n      setLoginElements: setLoginElements,\r\n      fadeBackground: fadeBackground,\r\n      addGaTracking: addGaTracking\r\n    };\r\n  })( window.jQuery );\r\n","/**\r\n * @todo Check for duplicate links.\r\n */\r\n\"use strict\";\r\n\r\nimport { fetchApi } from './utils.es6.js';\r\nimport { Events } from '../../../../../assets/js/src/modules/class.events.es6.js';\r\nimport { Elements } from './class.elements.es6.js';\r\n\r\nexport const Links = (\r\n  function ( $ ) {\r\n    const locations = {\r\n      locFront: null,\r\n      locEditor: null,\r\n      locStatic: null\r\n    };\r\n\r\n    const linkTypes = {\r\n      locStatic: $( '#link-static' ),\r\n      locEditor: $( '#link-editor' ),\r\n      locEditorCat: $( '#link-editor-cat' ),\r\n      locFront: $( '#link-front' ),\r\n      locFrontCat: $( '#link-front-cat' )\r\n    };\r\n\r\n    /**\r\n     * 1. Initialize user.\r\n     * 2. Fetch user links.\r\n     * 3. Convert link strings to html.\r\n     * 4. Load into page.\r\n     */\r\n    const init = ( links ) => {\r\n      update( links );\r\n      if ( !locations.locStatic ) {\r\n        buildStaticLinks();\r\n      }\r\n      loadAll();\r\n    };\r\n\r\n    const update = links => {\r\n      buildUserLinks( where => {\r\n        buildLinks( links, where );\r\n      } );\r\n    };\r\n\r\n    /**\r\n     * Generate flexiform links\r\n     */\r\n    const buildStaticLinks = () => {\r\n      return fetchApi( 'quicklinks_get_static_links' )\r\n        .then( links => buildLinks( links, 'locStatic' ) );\r\n    };\r\n\r\n    const loadAll = ( index = false ) => {\r\n      Object.keys( locations )\r\n        .filter( key => locations[key] )\r\n        .map( where => loadLinksByLocation( where ) );\r\n\r\n      if ( index !== false ) {\r\n        Events.emit( 'updateUserLinks', allToArray() );\r\n      }\r\n\r\n      Events.emit( 'afterLoadLinks', index );\r\n    };\r\n\r\n    const loadLinksByLocation = ( where ) => {\r\n      const $el = Elements.getLoc( where );\r\n      if ( $el && $el.length ) {\r\n        const linksHtml = locations[where].join( '\\n' );\r\n        const htmlEncodedLinks = htmlEntitiesEncode(linksHtml);\r\n        const htmlDecodedLinks = htmlEntitiesDecode(htmlEncodedLinks);\r\n        $el.html( htmlDecodedLinks );\r\n      }\r\n    };\r\n\r\n    const htmlEntitiesEncode = str => {\r\n      return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\r\n    }\r\n\r\n    const htmlEntitiesDecode = str => {\r\n      var txt = document.createElement('textarea');\r\n      txt.innerHTML = str;\r\n      return txt.value;\r\n    };\r\n\r\n    /**\r\n     * Populate link arrays with HTML as per callback.\r\n     * Editor links have extra markup for editing interface.\r\n     * @param callback\r\n     */\r\n    const buildUserLinks = callback => {\r\n      ['locFront', 'locEditor'].map( where => {\r\n        if ( typeof callback === 'function' ) {\r\n          callback( where );\r\n        }\r\n      } );\r\n    };\r\n\r\n    /**\r\n     * Split complete cookie string and map each HTML link to locations.\r\n     * @param links\r\n     * @param where\r\n     */\r\n    const buildLinks = ( links, where ) => {\r\n      locations[where] = [];\r\n      links.map( link => addLinkToLocation( link, where ) );\r\n      /*Object.keys( links ).map( link => {\r\n       const linkObj = {title: link, url: links[link]};\r\n       addLinkToLocation( linkObj, where );\r\n       } );*/\r\n    };\r\n\r\n    /**\r\n     * Map links to specified locations.\r\n     * @param link { Object }\r\n     * @param where { String }\r\n     * @param index { Number | null }\r\n     */\r\n    const addLinkToLocation = ( link, where, index = null ) => {\r\n      // Where to append, prepend, or insert?\r\n      index = index === null ? locations[where].length : index;\r\n\r\n      // Generate link HTML string and add to location.\r\n      spliceLinks( where, index, buildLinkHtml( link, where ) );\r\n    };\r\n\r\n    /**\r\n     * Construct link HTML from script template HTML\r\n     * @param title {String}\r\n     * @param url {String}\r\n     * @param where {String}\r\n     */\r\n    const buildLinkHtml = ( { title, url }, where ) => {\r\n      let type = '';\r\n\r\n      if ( url === null || url === \"undefined\" || url === undefined || url === '' ) {\r\n        type = 'Cat';\r\n      }\r\n\r\n      return linkTypes[where + type]\r\n        .html()\r\n        .replace( '##title##', title )\r\n        .replace( '##url##', encodeURI(url) );\r\n    };\r\n\r\n    /**\r\n     * Return array of link objects { title, url } for saving to server.\r\n     * Use Front because it always exists.\r\n     * @returns {Array}\r\n     */\r\n    const allToArray = () => {\r\n      const links = [];\r\n      locations['locFront'].map( link => {\r\n        links.push( extractLink( link ) );\r\n      } );\r\n\r\n      return links;\r\n    };\r\n    /**\r\n     * Converts array of links into JSON compatible cookie object.\r\n     * @returns {{}}\r\n     */\r\n    const linksToCookieObject = links => {\r\n      const linksObj = {};\r\n      let count = 0;\r\n      links.map( ( { title, url } ) => {\r\n        // Need parentheses\r\n        if ( !(title in linksObj) ) {\r\n          linksObj[(count++).toString()] = { title, url };\r\n        }\r\n      } );\r\n      return encodeURIComponent( JSON.stringify( linksObj ) );\r\n    };\r\n\r\n    /**\r\n     *\r\n     * @param link\r\n     * @return {{title: *, url: *}}\r\n     */\r\n    function extractLink( link ) {\r\n      let title, url;\r\n      title = $( link )[0].textContent.trim();\r\n\r\n      const anchor = $( link ).find( 'a' );\r\n      if ( anchor.length ) {\r\n        url = anchor[0].href;\r\n      }\r\n      return { title, url };\r\n    }\r\n\r\n    /**\r\n     * Converts links string to a compatible array for Links class.\r\n     * @param links\r\n     * @return {*}\r\n     */\r\n    function cookieObjectToLinks( links ) {\r\n      if ( !links ) {\r\n        return false;\r\n      }\r\n\r\n      links = decodeURIComponent( links );\r\n\r\n      // If it's not already an\r\n      if ( !isArray( links ) && !isObject( links ) ) {\r\n        // Is it a JSON string?\r\n        try {\r\n          links = JSON.parse( links );\r\n        }\r\n          // Is it legacy quicklinks with heart and spade separators\r\n        catch ( e ) {\r\n          links = legacyLinksToArray( links );\r\n        }\r\n      }\r\n      if ( isObject( links ) ) {\r\n        links = objToArray( links );\r\n      }\r\n      return links;\r\n    }\r\n\r\n    const objToArray = obj => {\r\n      const arr = [];\r\n      Object.keys( obj ).map( key => {\r\n        const link = obj[key]//{title, url};\r\n        arr.push( link );\r\n      } );\r\n      return arr;\r\n    };\r\n\r\n    const pair_sep = '\\u2660'; // spade\r\n    const name_val_sep = '\\u2665'; // heart\r\n    /**\r\n     * Convert old-school Meerkat QL links string to array.\r\n     * @param links\r\n     * @return {Array}\r\n     */\r\n    const legacyLinksToArray = links => {\r\n      const linksArr = [];\r\n      links.split( pair_sep )\r\n        .map( link => {\r\n          const parts = legacyLinkToObj( link );\r\n          if ( parts.title ) {\r\n            linksArr.push( parts );\r\n          }\r\n        } );\r\n      return linksArr.length ? linksArr : '';\r\n    };\r\n\r\n    /**\r\n     * Convert single link string into object.\r\n     * @param link\r\n     * @returns {{title: *, url: *}}\r\n     */\r\n    const legacyLinkToObj = link => {\r\n      const linkParts = link.split( name_val_sep );\r\n      return {\r\n        title: linkParts[0],\r\n        url: linkParts[1]\r\n      };\r\n    };\r\n\r\n    const isObject = o => {\r\n      return (!!o) && (o.constructor === Object);\r\n    };\r\n\r\n    const isArray = a => {\r\n      return (!!a) && (a.constructor === Array);\r\n    };\r\n\r\n    /**\r\n     * Add or remove links (if no added) from location.\r\n     *\r\n     * Add: arr.splice(index, 0, added);\r\n     * Remove: arr.splice(index, 1);\r\n     *\r\n     * @param where {String}\r\n     * @param index {Number}\r\n     * @param added {String}\r\n     */\r\n    const spliceLinks = ( where, index, added ) => {\r\n      const loc = locations[where];\r\n      return added ? loc.splice( index, 0, added ) : loc.splice( index, 1 );\r\n    };\r\n\r\n    /**\r\n     * Remove user link at index.\r\n     * @param index {Number}\r\n     */\r\n    const remove = index => {\r\n      buildUserLinks( where => spliceLinks( where, index ) );\r\n      loadAll( index );\r\n    };\r\n\r\n    /**\r\n     * Insert/Swap positions of links in locations array.\r\n     *\r\n     * @param index\r\n     * @param original\r\n     */\r\n    const swap = ( { index, original } ) => {\r\n      buildUserLinks( where => spliceLinks( where, index, spliceLinks( where, original )[0] ) );\r\n      loadAll( index );\r\n    };\r\n\r\n    /**\r\n     * Append new link to quicklinks string.\r\n     * @param link\r\n     * @param index\r\n     */\r\n    const insert = ( { link, index } ) => {\r\n      buildUserLinks( where => addLinkToLocation( link, where, index ) );\r\n      loadAll( index );\r\n    };\r\n\r\n    /**\r\n     * Prepend new link to quicklinks string.\r\n     *\r\n     * @param link\r\n     */\r\n    const prepend = link => {\r\n      const index = 0;\r\n      insert( { link, index } );\r\n    };\r\n\r\n    const save = ( { link, index } ) => {\r\n      // Insert at index.\r\n      buildUserLinks( where => addLinkToLocation( link, where, index ) );\r\n      // Remove index + 1.\r\n      remove( index + 1 );\r\n    };\r\n\r\n    return {\r\n      init: init,\r\n      update: update,\r\n      insert: insert,\r\n      prepend: prepend,\r\n      remove: remove,\r\n      swap: swap,\r\n      loadAll: loadAll,\r\n      save: save,\r\n      cookieObjectToLinks: cookieObjectToLinks,\r\n      linksToCookieObject: linksToCookieObject\r\n    };\r\n  }\r\n)( window.jQuery );\r\n","/**\r\n * @module Tools\r\n *\r\n * Handles interface events.\r\n * (Add Williams link, Add custom link/label, etc.)\r\n */\r\n\"use strict\";\r\n\r\nimport { Cookies } from \"./class.cookies.es6.js\";\r\nimport { Elements } from \"./class.elements.es6.js\";\r\nimport { Events } from \"../../../../../assets/js/src/modules/class.events.es6.js\";\r\nimport { Links } from \"./class.links.es6.js\";\r\nimport { User } from \"./class.user.es6.js\";\r\n\r\n/**\r\n * This function should be removed by RollupJS.\r\n * Q: Does it remove jsdoc comments too?\r\n * A: It does!\r\n */\r\nexport const dont_need_this = function () {\r\n  return 42;\r\n};\r\n\r\nexport const Tools = (function ( $ ) {\r\n  const init = () => {\r\n    registerEvents();\r\n    doMenuDisplay( true );\r\n  };\r\n\r\n  /**\r\n   * @requires window.jQuery\r\n   */\r\n  const registerEvents = () => {\r\n    $( document ).on( 'click', '.quick-tool', e => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      doTool( $( e.target ) );\r\n    } );\r\n    //      $( document ).on( 'submit', '#quicklinks form', e => e.preventDefault() );\r\n  };\r\n\r\n  /**\r\n   * Event handlers for <element class=\"quick-tool\" data-tool=\"action\"/>\r\n   * @param $tool\r\n   *\r\n   * @requires {Cookies}\r\n   */\r\n  const doTool = ( $tool ) => {\r\n    switch ( $tool.data( 'tool' ) ) {\r\n      case 'add-current-page':\r\n        addCurrentPage();\r\n        break;\r\n      case 'add-link':\r\n        addLink( $tool );\r\n        break;\r\n      case 'add-custom':\r\n        addCustom( $tool );\r\n        break;\r\n      case 'delete':\r\n        deleteLink( $tool );\r\n        break;\r\n      case 'save-link':\r\n        saveLink( $tool );\r\n        break;\r\n      case 'delete-cookies':\r\n        Cookies.unsetAll();\r\n        break;\r\n      case 'dismiss':\r\n        Elements.hideDismissibles();\r\n        break;\r\n      case 'dismiss-forms':\r\n        dismissLinkForms( $tool );\r\n        break;\r\n      case 'edit-link':\r\n        editLink( $tool );\r\n        break;\r\n      case 'login':\r\n        doLogin( $tool );\r\n        break;\r\n      case 'logout':\r\n        doLogout();\r\n        break;\r\n      case 'hide-menu':\r\n        doMenuDisplay();\r\n        break;\r\n      case 'quick-launch':\r\n        showOverlay();\r\n        break;\r\n      case 'restore-default-links':\r\n        restoreDefaultLinks();\r\n        break;\r\n      case 'show':\r\n        showDismissible( $tool );\r\n        break;\r\n      case 'show-cookies':\r\n        Cookies.logAll();\r\n        break;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Authenticate user via LDAP\r\n   */\r\n  const doLogin = $tool => {\r\n    // Get form variables.\r\n    const $form = $tool.parents( 'form' );\r\n    $form.find( '.login-status' ).html( '' );\r\n    // Show spinner\r\n    $form.addClass( 'submitting' );\r\n\r\n    const username = $form.find( 'input[name=\"username\"]' ).val();\r\n    const password = $form.find( 'input[name=\"password\"]' ).val();\r\n    const method = $form.find( \"input:radio[name='method']:checked\" ).val();\r\n    //    const save = $form.find( 'input[name=\"save\"]' ).is( ':checked' ) ? 'save' : 'init';\r\n\r\n    if ( username && password ) {\r\n      User.setProperties( { 'status': method } );\r\n      const user = User.getUser();\r\n      User.doLogin( { username, password, user } );\r\n    } else {\r\n      Elements.setStatus( 'Please enter both a user and a password', 'loginStatus', true );\r\n      $form.removeClass( 'submitting' );\r\n    }\r\n  };\r\n\r\n  const doLogout = () => User.init( {\r\n    'status': 'You are now logged out.',\r\n    'username': false\r\n  } );\r\n\r\n  const dismissLinkForms = () => Elements.closeAllLinkForms();\r\n\r\n  /**\r\n   * Show Dismissible\r\n   */\r\n  const showDismissible = $tool => {\r\n    Elements.hideDismissibles();\r\n    Elements.showDismissible( $( $tool.data( 'target' ) ) );\r\n  };\r\n\r\n  const deleteCookies = () => {\r\n    if ( confirm( 'All cookies will be deleted. Continue?' ) ) {\r\n      Cookies.unsetAll();\r\n      User.update( {\r\n        'quicklinks': false,\r\n        'username': false,\r\n        'linksChanged': false\r\n      } );\r\n    }\r\n  };\r\n\r\n  const restoreDefaultLinks = () => {\r\n    if ( confirm( 'All customized links will be deleted. Continue?' ) ) {\r\n      User.init( {\r\n        'quicklinks': false,\r\n        'linksChanged': false,\r\n        'status': 'restore'\r\n      } );\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Retrieve link title and url.\r\n   * @param $tool\r\n   * @returns {{$linkElement, url, title}}\r\n   */\r\n  const getLinkData = $tool => {\r\n    const $linkElement = $tool.parents( 'li.quick-item' );\r\n    const title = $linkElement.find( '.title' ).text();\r\n    let url;\r\n    if ( !$linkElement.hasClass( 'quick-cat' ) ) {\r\n      url = $linkElement.find( '.bt-external-link' )[0].href;\r\n    }\r\n    const link = { title, url };\r\n    return { $linkElement, link };\r\n  };\r\n\r\n  function getFormData( $tool ) {\r\n    let link;\r\n    const $form = $tool.parents( 'form' );\r\n    const title = $form.find( '[name=\"custom-item-title\"]' ).val();\r\n    switch ( $form.find( '[name=\"custom-form\"]' ).val() ) {\r\n      case 'link':\r\n        const url = $form.find( '[name=\"custom-item-url\"]' ).val();\r\n        link = validateForm( title, url );\r\n        break;\r\n      case 'divider':\r\n        link = validateForm( title );\r\n    }\r\n    if ( link ) {\r\n      $form[0].reset();\r\n      return link;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Check for existence of title, and correctly-formed url if this is a link.\r\n   * @param title\r\n   * @param url\r\n   * @return {boolean}\r\n   */\r\n  const validateForm = ( title, url = null ) => {\r\n    if ( title === '' ) {\r\n      title = prompt( 'Please enter a title' );\r\n      if ( !title ) {\r\n        return false;\r\n      }\r\n    }\r\n    if ( url !== null ) {\r\n      if ( url === '' ) {\r\n        url = prompt( 'Please enter a URL' );\r\n        if ( !url ) {\r\n          return false;\r\n        }\r\n      }\r\n      if ( url && url.indexOf( \"://\" ) === -1 ) {\r\n        // format url if they didn't\r\n        url = 'http://' + url;\r\n      }\r\n    }\r\n\r\n    url = encodeURI( url );\r\n\r\n    return { title, url };\r\n  };\r\n  /**\r\n   * Bookmark.\r\n   *\r\n   * @requires {Links}\r\n   */\r\n  const addCurrentPage = () => {\r\n    const title = document.title;\r\n    const url = window.location.href;\r\n    Events.emit( 'prepend', { title, url } )\r\n  };\r\n  /**\r\n   * @requires {Events}\r\n   * @param $tool\r\n   */\r\n  const saveLink = $tool => {\r\n    const link = getFormData( $tool );\r\n    const index = $tool.parents( 'li' ).index();\r\n    Events.emit( 'save', { link, index } );\r\n  };\r\n  /**\r\n   * Populate link edit form.\r\n   * @requires {Events}\r\n   * @param $tool\r\n   */\r\n  const editLink = $tool => Events.emit( 'edit', getLinkData( $tool ) );\r\n  /**\r\n   * Process custom link and divider submissions.\r\n   * @requires {Events}\r\n   * @param $tool\r\n   */\r\n  const addCustom = $tool => Events.emit( 'prepend', getFormData( $tool ) );\r\n  /**\r\n   * Add Williams link using + button.\r\n   * @requires {Events}\r\n   * @param $tool\r\n   */\r\n  const addLink = $tool => {\r\n    const { link } = getLinkData( $tool );\r\n    Events.emit( 'prepend', link );\r\n  };\r\n  /**\r\n   * @requires {Links}\r\n   * @param $tool\r\n   */\r\n  const deleteLink = $tool => {\r\n    const $item = $tool.parents( '.quick-item' ).hide();\r\n    const index = $item.index();\r\n    Events.emit( 'remove', index );\r\n  };\r\n  /**\r\n   * Hide or show mega menu links.\r\n   *\r\n   * @param isInit\r\n   *\r\n   * @requires window.jQuery\r\n   * @requires {Elements}\r\n   * @requires {Cookies}\r\n   */\r\n  const doMenuDisplay = isInit => {\r\n    let menuToggled = Cookies.get( 'menu' ) === 'true';\r\n\r\n    if ( !isInit ) {\r\n      if ( !menuToggled ) {\r\n        menuToggled = true;\r\n        Cookies.set( 'menu', 'true' );\r\n      } else {\r\n        menuToggled = false;\r\n        Cookies.unset( 'menu' );\r\n      }\r\n      $( 'html, body' ).animate( {\r\n        scrollTop: $( 'body' ).offset().top\r\n      }, 500 );\r\n    }\r\n\r\n    Elements.toggleMenu( menuToggled );\r\n  };\r\n  /**\r\n   * Show QL editing interface in lightbox overlay\r\n   *\r\n   * @requires window.jQuery\r\n   * @requires {Events}\r\n   * @requires {Elements}\r\n   */\r\n  const showOverlay = () => {\r\n    $.featherlight( myAjax.siteurl + '/ql/?iframe', {\r\n      afterContent: function () {\r\n        const $self = this;\r\n        const $instance = $self.$instance.find( '.' + $self.namespace + '-content' );\r\n        // set our custom close icon\r\n        $instance.find( '.featherlight-close' ).html( '<span class=\"bts bt-times\"></span>' );\r\n\r\n        // init and load editor interface and links\r\n        Events.emit( 'afterShowOverlay' );\r\n      },\r\n      afterOpen: function () {\r\n        // isIos() is in featherlight-config\r\n        if ( !isIos() ) {\r\n          $( 'html' ).css( 'overflow', 'hidden' );\r\n        }\r\n      },\r\n      afterClose: function () {\r\n        if ( !isIos() ) {\r\n          $( 'html' ).css( 'overflow', 'auto' );\r\n        }\r\n      }\r\n    } );\r\n  };\r\n\r\n  return {\r\n    init: init,\r\n    registerEvents: registerEvents,\r\n    doTool: doTool,\r\n    deleteCookies: deleteCookies,\r\n    restoreDefaultLinks: restoreDefaultLinks,\r\n    addCurrentPage: addCurrentPage,\r\n    addLink: addLink,\r\n    editLink: editLink,\r\n    validateForm: validateForm,\r\n    deleteLink: deleteLink,\r\n    doMenuDisplay: doMenuDisplay,\r\n    showOverlay: showOverlay\r\n  }\r\n})( window.jQuery );","/**\r\n * @module User Singleton\r\n *\r\n * Holds state of login, personal links, etc.\r\n */\r\n\"use strict\";\r\nimport { fetchApi } from './utils.es6.js';\r\nimport { Events } from '../../../../../assets/js/src/modules/class.events.es6.js';\r\n/**\r\n *\r\n * @type {{defaultChanged, getUser, getProperty, setProperties, init, save, doLogin, doLogout}}\r\n */\r\nexport const User = (function () {\r\n  const user = {\r\n    status: 'init',\r\n    username: false,\r\n    isSuper: false,\r\n    quicklinks: false,\r\n    linksChanged: false\r\n  };\r\n  /**\r\n   *\r\n   * @param action\r\n   */\r\n  const doEmit = action => {\r\n    //console.log( 'Status:', getProperty( 'status' ) );\r\n    Events.emit( action, getProperty( 'quicklinks' ) );\r\n  };\r\n  /**\r\n   * Send user to server.\r\n   * If the user has links in the db, get them.\r\n   * If not, we'll use the cookie links.\r\n   * If still not, fall back on the default.\r\n   *\r\n   * @requires {Events}\r\n   * @requires {fetchApi}\r\n   */\r\n  const init = user => {\r\n    setProperties( user );\r\n    doFetch()\r\n      .then( user => {\r\n        if ( user ) {\r\n          setProperties( user );\r\n          doEmit( 'afterInitUser' );\r\n        }\r\n      } );\r\n  };\r\n  /**\r\n   *\r\n   * @param user\r\n   * @param login\r\n   */\r\n  const update = ( user, login = false ) => {\r\n    setProperties( user );\r\n    // Save if logged in.\r\n    if ( login ) {\r\n      doEmit( 'afterInitUser' );\r\n    } else if ( getProperty( 'username' ) ) {\r\n      save();\r\n    }\r\n  };\r\n  /**\r\n   *\r\n   */\r\n  const save = () => {\r\n    setProperty( 'status', 'put' );\r\n    doFetch()\r\n      .then( user => {\r\n        setProperties( user );\r\n        Events.emit( 'afterSaveUser', user );\r\n      } );\r\n  };\r\n  /**\r\n   *\r\n   */\r\n  const doFetch = () => fetchApi( 'quicklinks_update_user', user );\r\n  /**\r\n   *\r\n   * @param login\r\n   */\r\n  const doLogin = login => {\r\n    return fetchApi( 'quicklinks_login', login )\r\n      .then( user => {\r\n        if ( !user.username ) {\r\n          Events.emit( 'afterLoginFail', user );\r\n          return;\r\n        }\r\n        update( user, true );\r\n      } );\r\n  };\r\n  /**\r\n   * Set all user properties.\r\n   *\r\n   * @param user\r\n   * @returns {boolean}\r\n   * @private\r\n   * @requires {Events}\r\n   */\r\n  const setProperties = user => {\r\n    Object.keys( user ).map( function ( key ) {\r\n      setProperty( key, user[key] );\r\n    } );\r\n  };\r\n\r\n  /**\r\n   * Return _user object.\r\n   *\r\n   * @returns {{logged: boolean, status: string, user: string, isSuper: boolean, quicklinks: string}}\r\n   * @private\r\n   */\r\n  const getUser = () => user;\r\n\r\n  /**\r\n   * Return single user property.\r\n   *\r\n   * @param key\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  const getProperty = key => user[key];\r\n\r\n  /**\r\n   * Return single user property.\r\n   *\r\n   * @param key\r\n   * @param value\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  const setProperty = ( key, value ) => user[key] = value;\r\n\r\n  return {\r\n    init: init,\r\n    update: update,\r\n    getUser: getUser,\r\n    getProperty: getProperty,\r\n    setProperties: setProperties,\r\n    doLogin: doLogin\r\n  };\r\n})();","/**\r\n * @requires 'url-search-params-polyfill'\r\n * @requires 'whatwg-fetch'\r\n * @param action {String}\r\n * @param obj {Object}\r\n * @return Promise\r\n *\r\n * fetchApi( 'ajax_action', user )\r\n * .then( function ( responseObj ) {\r\n *    // This could be another fetchApi call.\r\n *    someCallback( responseObj );\r\n *  } )\r\n *  .then( function () {\r\n *    someOtherCallback();\r\n *  } );\r\n *\r\n */\r\n\r\n\"use strict\";\r\n\r\n//import 'url-search-params-polyfill';\r\nimport 'whatwg-fetch';\r\n\r\nexport const fetchApi = ( action, obj = null ) => {\r\n  //console.log( 'Begin fetch:', action, obj );\r\n  const payload = {\r\n    action: action,\r\n    obj: JSON.stringify(obj)\r\n  };\r\n\r\n  const data = new FormData();\r\n  //data.append( 'json', JSON.stringify( payload ) );\r\n\r\n  Object.keys( payload ).map( key => {\r\n    data.append( key, payload[key] )\r\n  } );\r\n\r\n  const init = {\r\n    method: 'POST',\r\n    body: data,\r\n    credentials: 'same-origin'\r\n  };\r\n\r\n  /* const params = new URLSearchParams();\r\n\r\n   Object.keys( payload ).map( key => {\r\n   params.set( key, payload[key] )\r\n   } );*/\r\n\r\n\r\n  /*const request = new Request( myAjax.ajaxurl,  {\r\n   method: 'POST',\r\n   body: params,\r\n   credentials: 'same-origin'\r\n   });*/\r\n\r\n  //return fetch( request )\r\n  return fetch( myAjax.ajaxurl, init )\r\n    .then( function ( response ) {\r\n      if ( response.ok ) {\r\n        //console.log( 'End fetch:', action );\r\n        return response.json();\r\n      }\r\n    } )\r\n    // Uncomment to test response.json. This will cause the Promise to return undefined.\r\n    //.then( data => console.log( JSON.stringify( data ) ) )\r\n    .catch( function ( error ) {\r\n      console.log( 'Fetch error:', error.message );\r\n      return false;\r\n    } );\r\n};","'use strict';\r\nimport '../../../../../lib/assets/js/src/expando_tabs.es6';\r\nimport './modules/quad.es6';\r\nimport './modules/gallery.es6';\r\nimport '../../../../../lib/quicklinks/assets/js/src/app.es6';\r\n\r\n!(function ( $ ) {\r\n  /**\r\n   * Email address wrap on @ and . characters.\r\n   *\r\n   * http://stackoverflow.com/questions/27419127/can-i-break-the-line-at-special-characters-using-css\r\n   */\r\n  $( 'a[href^=\"mailto:\"]' ).each( function () {\r\n    var content = $( this ).text().trim();\r\n    var replaced = content.replace( '@', '&#x200b;@' ).replace( '.', '&#x200b;.' );\r\n    $( this ).html( replaced );\r\n  } );\r\n\r\n  //--- Gravity Forms Likert Scale - requires .gf_likert styles (in forms.css) ---//\r\n  $( window ).load( function () {\r\n    if ( $( \".gf_likert ul.gfield_radio li input\" ).is( \":checked\" ) ) {\r\n      $( \".gf_likert ul.gfield_radio li input:checked\" ).parent().addClass( \"mychoice\" );\r\n    }\r\n  } );\r\n\r\n  // add some extra classes and markup to make our likert-style radio choices\r\n  $( \".gf_likert ul.gfield_radio li:first-child\" ).addClass( \"likert-first\" );\r\n  $( \".gf_likert ul.gfield_radio li:last-child\" ).addClass( \"likert-last\" );\r\n  $( \".gf_likert ul.gfield_radio li input\" ).addClass( \"likert-choice\" );\r\n  $( \".gf_likert ul.gfield_radio li label\" ).wrap( \"<div class='likert-label'></div>\" );\r\n  // add space to pad label.\r\n  $( '.likert-label label:empty' ).html( '&nbsp;' );\r\n  // add a hover state\r\n  $( \".gf_likert ul.gfield_radio li\" ).hover( function () {\r\n    $( this ).addClass( \"likert-hover\" );\r\n  }, function () {\r\n    $( this ).removeClass( \"likert-hover\" );\r\n  } );\r\n  // add a selected class to the parent list item\r\n  $( \".likert-choice\" ).change( function () {\r\n    if ( $( this ).is( \":checked\" ) ) {\r\n      $( this ).parent().parent().parent().find( \".mychoice\" ).removeClass( \"mychoice\" );\r\n      $( this ).parent().addClass( \"mychoice\" );\r\n    }\r\n  } );\r\n\r\n  //--- GOOGLE SEARCH RESULTS ---//\r\n  (function () {\r\n    var cx = '010875475703748055486:qrlq8khyohw';\r\n    var gcse = document.createElement( 'script' );\r\n    gcse.type = 'text/javascript';\r\n    gcse.async = true;\r\n    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +\r\n      '//www.google.com/cse/cse.js?cx=' + cx;\r\n    var s = document.getElementsByTagName( 'script' )[0];\r\n    s.parentNode.insertBefore( gcse, s );\r\n  })();\r\n\r\n  //---- IPAD ----//\r\n  var $is_ipad = navigator.userAgent.match( /iPad/i ) != null;\r\n  if ( $is_ipad ) {\r\n    $( 'body' ).addClass( 'ipad' );\r\n  }\r\n\r\n  var magSearchText = 'Search Magazine';\r\n  if ( location.href.indexOf( 'alumni-news' ) > 0 ) {\r\n    magSearchText = 'Search Alumni News';\r\n  }\r\n  $( 'body.meerkat-magazine #s' ).val( magSearchText ).blur( function () {\r\n    if ( this.value == '' ) {\r\n      this.value = magSearchText;\r\n    }\r\n  } ).focus( function () {\r\n    if ( this.value == magSearchText ) {\r\n      this.value = '';\r\n    }\r\n  } );\r\n\r\n  //---- tab filters\r\n  // display correct tab on page load & on hash change\r\n  if ( location.hash ) {\r\n    set_button_tab( location.hash );\r\n  } else {\r\n    set_button_tab( false );\r\n  }\r\n  $( window ).on( 'hashchange', function () {\r\n    set_button_tab( location.hash );\r\n  } );\r\n\r\n  // click action for tab\r\n  $( '.button-tabs > a' ).click( function ( e ) {\r\n    var $target = $( this ).attr( 'data-target' );\r\n    set_button_tab( $target );\r\n    e.preventDefault();\r\n  } );\r\n\r\n  function set_button_tab( $target ) {\r\n    // get rid of hash mark from things coming from url\r\n    if ( $target ) {\r\n      $target = $target.replace( '#', '' );\r\n    }\r\n    // hide all content & unselect all tabs\r\n    $( '.button-tabs' ).find( '.meerkat-tab' ).hide();\r\n    $( '.button-tabs > a' ).removeClass( 'selected-button' );\r\n    if ( $target ) {\r\n      // reveal & highlight active tab\r\n      var $target_div = $( '.button-tabs' ).find( 'div[data-target=\"' + $target + '\"]' );\r\n\r\n      if ( $target_div.length == 0 ) {\r\n        // non-existant tab called, show default\r\n        $( '.button-tabs' ).find( '.meerkat-tab:first-child' ).show();\r\n        $( '.button-tabs > a:first-child' ).addClass( 'selected-button' );\r\n      } else {\r\n        $target_div.show();\r\n        $( '.button-tabs > a[data-target=\"' + $target + '\"]' ).addClass( 'selected-button' );\r\n      }\r\n    } else {\r\n      // show & highlight default (first) tab\r\n      $( '.button-tabs' ).find( '.meerkat-tab:first-child' ).show();\r\n      $( '.button-tabs > a:first-child' ).addClass( 'selected-button' );\r\n    }\r\n  }\r\n\r\n  //---- category filters\r\n  $( '.category-filter' ).click( function ( e ) {\r\n    var $desired_cat = $( this ).attr( 'data-slug' );\r\n    var $show_all = $( this ).hasClass( 'show-all' );\r\n    // apply selected filter styles\r\n    $( this ).siblings().removeClass( 'selected-filter' );\r\n    $( this ).addClass( 'selected-filter' );\r\n\r\n    // hide all posts on cat page that aren't of this type\r\n    // category view\r\n    $( 'body.category #content' ).find( 'div.status-publish' ).each( function () {\r\n      if ( $show_all || $( this ).hasClass( 'category-' + $desired_cat ) ) {\r\n        $( this ).show();\r\n      } else {\r\n        $( this ).hide();\r\n      }\r\n    } );\r\n    // page view (used as a mk_calendar shortcode on a page)\r\n    $( 'body.page #cal-grid' ).find( 'div.event-container' ).each( function () {\r\n      if ( $show_all || $( this ).hasClass( $desired_cat ) ) {\r\n        $( this ).show();\r\n        if ( $( 'html' ).hasClass( 'ui-mobile' ) ) {\r\n          $( this ).parents( '.cal-day' ).show();\r\n        }\r\n      } else {\r\n        $( this ).hide();\r\n        if ( $( 'html' ).hasClass( 'ui-mobile' ) ) {\r\n          if ( !$( this ).parents( '.cal-day' ).find( 'div.event-container:visible' ).length ) {\r\n            $( this ).parents( '.cal-day' ).hide();\r\n          }\r\n        }\r\n      }\r\n    } );\r\n  } );\r\n\r\n  //---- MEDIA ----//\r\n\r\n  // animated slideshow stop-go controls\r\n  $( '.cycle-container .cycle-control' ).click( function ( e ) {\r\n    // get current state\r\n    var $paused = $( this ).parent().find( '.meerkat-image-gallery' ).is( '.cycle-paused' );\r\n    if ( $paused ) {\r\n      // go (show pause button)\r\n      $( this ).parent().find( '.meerkat-image-gallery' ).cycle( 'resume' );\r\n      $( this ).removeClass( 'cycle-resume' );\r\n      $( this ).addClass( 'cycle-pause' );\r\n    } else {\r\n      // stop (show go button)\r\n      $( this ).parent().find( '.meerkat-image-gallery' ).cycle( 'pause' );\r\n      $( this ).removeClass( 'cycle-pause' );\r\n      $( this ).addClass( 'cycle-resume' );\r\n    }\r\n  } );\r\n\r\n  // gallery widget image sizing\r\n  $( '#sidebar .gallery_widget_layout' ).closest( '.widget' ).addClass( 'widget_meerkat_gallery' );\r\n\r\n  var $gallery_widgets = $( '#sidebar .widget_meerkat_gallery' );\r\n\r\n  // window resize events\r\n  $( window ).resize( function () {\r\n    mk_gallery_widget_size();\r\n    mk_filmstrip_gallery_size();\r\n  } );\r\n  $gallery_widgets.ready( function () {\r\n    mk_gallery_widget_size();\r\n  } );\r\n\r\n  function mk_gallery_widget_size() {\r\n    // responsive sizing of images in gallery widget\r\n    var $pad = 8;\r\n    var $border = 2;\r\n    $gallery_widgets.each( function () {\r\n      var $gallery_container = $( this ).find( '.meerkat-gallery' );\r\n      var $gallery_container_limit = $gallery_container.attr( 'limit' );\r\n      var $gallery_widget_w = $( this ).width() - 1;\r\n      var $gall_item_w = ($gallery_widget_w - ($pad * 3)) / 2;\r\n      var $gall_item_w = Math.floor( $gall_item_w ) - $border;\r\n      $( this ).find( 'img' ).each( function () {\r\n        $( this ).width( $gall_item_w + 'px' );\r\n        $( this ).height( $gall_item_w + 'px' );\r\n      } );\r\n      var $rows = $gallery_container_limit / 2;\r\n      var $h = ($gall_item_w * $rows) + ($rows * $pad) + ($rows * $border);\r\n      $gallery_container.height( $h + 'px' );\r\n    } );\r\n  }\r\n\r\n  // Video Fancybox\r\n  // video pops up in fancybox\r\n  const $typeVideo = $( '.type-video,.fancybox-video' );\r\n  $typeVideo\r\n    .attr( 'rel', 'media-gallery' )\r\n    .attr( 'data-featherlight', 'iframe' )\r\n    .featherlight( {\r\n      padding: 10,\r\n      openEffect: 'fade',\r\n      closeEffect: 'fade',\r\n      prevEffect: 'fade',\r\n      nextEffect: 'fade',\r\n      arrows: false,\r\n      helpers: {\r\n        media: {\r\n          youtube: {\r\n            params: {\r\n              wmode: 'opaque',\r\n              autoplay: 0 // 1 = will enable autoplay\r\n            }\r\n          }\r\n        },\r\n        title: { type: 'inside' }\r\n      }\r\n    } );\r\n\r\n  $typeVideo.not( \":has(img)\" ).addClass( 'no-img' );\r\n\r\n  //---- GALLERY FILMSTRIP ----//\r\n  $( '.gallery-filmstrip' ).ready( function () {\r\n    mk_filmstrip_gallery_size();\r\n  } );\r\n  // default caption\r\n  $( '.gallery-filmstrip' ).each( function () {\r\n    var $first_caption = $( this ).find( '.strip-container a:eq(0) img' ).attr( 'alt' );\r\n    $( this ).find( '.filmstrip-caption' ).html( $first_caption );\r\n  } );\r\n  // click or hover to change large picture\r\n  $( '.gallery-filmstrip .strip-container a' ).click( function ( e ) {\r\n    filmstrip_select_pic( $( this ) );\r\n  } );\r\n  $( '.gallery-filmstrip .strip-container a' ).hover( function ( e ) {\r\n    filmstrip_select_pic( $( this ) );\r\n  } );\r\n\r\n  function mk_filmstrip_gallery_size() {\r\n    // responsive sizing of images in filmstrip gallery\r\n    var $filmstrip = $( '.gallery-filmstrip' );\r\n    var $backdrop = $filmstrip.find( '.filmstrip-backdrop' );\r\n    var $img_w = $backdrop.attr( 'data-img-width' );\r\n    var $avail_space = $filmstrip.width();\r\n    // subtract padding\r\n    $avail_space = $avail_space - 30;\r\n    if ( $img_w < $avail_space ) {\r\n      $backdrop.css( {\r\n        'width': $img_w,\r\n        'margin-right': 'auto'\r\n      } );\r\n    } else {\r\n      // shrink to fit!\r\n      $backdrop.css( { 'width': '95%' } );\r\n    }\r\n  }\r\n\r\n  // clicking/hovering on preview thumb enlarges is\r\n  function filmstrip_select_pic( $pic_link ) {\r\n    var $fullpic = $pic_link.attr( 'fullpic' );\r\n    var $caption = $pic_link.find( 'img' ).attr( 'alt' );\r\n    var $filmstrip = $pic_link.closest( '.gallery-filmstrip' );\r\n    $filmstrip.find( '.filmstrip-current img' ).attr( 'src', $fullpic );\r\n    $filmstrip.find( '.filmstrip-caption' ).html( $caption );\r\n  }\r\n\r\n  var $filmstrip_hover = false;\r\n  var $filmstrip_click = false;\r\n\r\n  // next/prev arrows scrolls preview container\r\n  $( '.gallery-filmstrip .filmstrip-nav' ).click( function ( e ) {\r\n    $filmstrip_click = true;\r\n    scroll_filmstrip_preview( $( this ) );\r\n  } );\r\n  $( '.gallery-filmstrip .filmstrip-nav' ).hover(\r\n    function () {\r\n      if ( $is_ipad ) {\r\n        return;\r\n      }\r\n      $filmstrip_hover = true;\r\n      scroll_filmstrip_preview( $( this ) );\r\n    },\r\n    function () {\r\n      if ( $is_ipad ) {\r\n        return;\r\n      }\r\n      $filmstrip_hover = false;\r\n      scroll_filmstrip_preview( $( this ) );\r\n    }\r\n  );\r\n\r\n  function scroll_filmstrip_preview( $strip ) {\r\n    // hover is recursive, we use a global var $filmstrip_hover to bail\r\n    if ( !$filmstrip_hover && !$filmstrip_click ) {\r\n      return;\r\n    }\r\n\r\n    // calculate some dimensions\r\n    var $strip_pics = $strip.parent().find( '.strip-pics' );\r\n    var $num_pics = $strip_pics.find( 'img' ).size();\r\n    var $unit_w = 110; // 1 pic plus margin-right\r\n    var $full_w = $num_pics * $unit_w;\r\n    var $nav_w = 90; // next/prev arrows + margin\r\n    var $big_pic_w = $strip_pics.closest( '.gallery-filmstrip' ).find( '.filmstrip-current img' ).width();\r\n    var $view_w = $big_pic_w - $nav_w;\r\n\r\n    // fiture out which direction we're going, and if we're out of bounds\r\n    var $cur_left = parseInt( $strip_pics.css( 'left' ) );\r\n    var $direction = '-=';\r\n    var $out_of_bounds = false;\r\n    if ( $strip.hasClass( 'filmstrip-prev' ) ) {\r\n      $direction = '+=';\r\n      if ( $cur_left >= 0 ) {\r\n        // don't allow previous if we're at the first pic\r\n        $out_of_bounds = true;\r\n      }\r\n    } else {\r\n      if ( (Math.abs( $cur_left ) + $view_w) >= $full_w ) {\r\n        // don't allow next if it would take you to blank space\r\n        $out_of_bounds = true;\r\n      }\r\n    }\r\n    var $increment = 10;\r\n    if ( $filmstrip_click ) {\r\n      // click advances full pic\r\n      $increment = $unit_w;\r\n    }\r\n    $filmstrip_click = false; // prevent recursion on click\r\n\r\n    // do the actual animation\r\n    if ( !$out_of_bounds ) {\r\n      $strip_pics.animate( { 'left': $direction + $increment },\r\n        40,\r\n        function () {\r\n          scroll_filmstrip_preview( $strip );\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  //---- PRINTFRIENDLY ----------//\r\n  $( '.printfriendly > a' ).click( function ( e ) {\r\n    $( '.wms-details .wms-summary' ).each( function () {\r\n      $( this ).parent().addClass( 'expanded' );\r\n      $( this ).siblings( '.summary-detail' ).show();\r\n    } );\r\n    window.print();\r\n  } );\r\n\r\n  //---- PAGE FORMAT SUPPORT ----//\r\n  $( '#content:has(\".post-content.wide\")' ).addClass( 'wide' );\r\n  $( '#content:has(\".post-content.mediawall\")' ).addClass( 'mediawall' );\r\n\r\n  //---- PAGES/CUSTOM MENUS WIDGET ----//\r\n\r\n  // menus with children get an icon hinting at more content\r\n  var $menus = $( '#sidebar' ).find( 'ul.menu' );\r\n  $menus.find( 'li.depth-3' ).prev( 'li.depth-2' ).addClass( 'has-children' ).append( '<span class=\"menu-arrow\"></span>' );\r\n  $menus.find( 'li.depth-2' ).prev( 'li.depth-1' ).addClass( 'has-children' ).append( '<span class=\"menu-arrow\"></span>' );\r\n  $menus.find( 'li.depth-1' ).prev( 'li.top-item' ).addClass( 'has-children' ).append( '<span class=\"menu-arrow\"></span>' );\r\n\r\n  // collapse all submenus\r\n  var $sub_items = $menus.find( 'li.sub-item' );\r\n  $sub_items.hide();\r\n\r\n  // clicking on parent menu items (li, not link itself) toggles submenu items\r\n  var $parent_items = $menus.find( 'li.has-children' );\r\n\r\n  // clicking on link does not trigger toggle\r\n  $menus.find( 'a' ).click( function ( e ) {\r\n    e.stopPropagation();\r\n  } );\r\n\r\n  // toggle menu children open/closed\r\n  $parent_items.click( function ( e ) {\r\n    toggle_children( $( this ) );\r\n  } );\r\n\r\n  // expanding current menu item & ancestors\r\n  $menus.each( function () {\r\n    show_menu_context( $( this ) );\r\n  } );\r\n\r\n  function show_menu_context( $menu ) {\r\n    // expand correct menu items to show the context of current page/item\r\n    // show children of this item\r\n    var $curr_item = $menu.find( '.current-menu-item' );\r\n    toggle_children( $curr_item );\r\n\r\n    // current menu ancestor class not properly applied to category menu item\r\n    // parents, do it (note: this does not work at all depths)\r\n    if ( $curr_item.hasClass( 'menu-item-object-category' ) ) {\r\n      var $curr_depth = $curr_item.attr( 'data-depth' );\r\n      if ( $curr_depth > 0 ) {\r\n        $curr_item.prevUntil( 'li.top-item' ).prev().addClass( 'current-menu-ancestor' );\r\n      }\r\n    }\r\n\r\n    // expand ancestry\r\n    var $ancestors = $menu.find( '.current-menu-ancestor' );\r\n    $ancestors.each( function () {\r\n      toggle_children( $( this ) );\r\n    } );\r\n\r\n  }\r\n\r\n  function toggle_children( $item ) {\r\n    // toggle immediate \"children\" of this parent item\r\n    if ( !$item.hasClass( 'has-children' ) ) {\r\n      return;\r\n    }\r\n    var $depth = $item.attr( 'data-depth' );\r\n    var $next_depth = parseInt( $depth ) + 1;\r\n    if ( $item.hasClass( 'expanded-parent' ) ) {\r\n      // hide\r\n      $item.nextUntil( 'li[data-depth=\"' + $depth + '\"]' ).hide();\r\n      $item.removeClass( 'expanded-parent' );\r\n      // remove expanded parent icon from \"children\" too\r\n      $item.nextUntil( 'li[data-depth=\"' + $depth + '\"]', 'li.expanded-parent' ).removeClass( 'expanded-parent' );\r\n    } else {\r\n      // show only immediate \"children\" but not grandchilden, etc.\r\n      // nextUntil param 1: items up to but not including next item of same level as this one\r\n      // nextUntil param 2: match only items that are 1 level deeper than this one\r\n      $item.nextUntil( 'li[data-depth=\"' + $depth + '\"]', 'li[data-depth=\"' + $next_depth + '\"]' ).show();\r\n      $item.addClass( 'expanded-parent' );\r\n    }\r\n  }\r\n\r\n  //---- EDIT WIDGET LINKS ----//\r\n  $( '.widget:not(.widget_nav_menu) a.edit-me' ).each( function ( index ) {\r\n    var $widget = $( this ).parents( '.widget' );\r\n    // To skip rule, apply '.widgetized_area' class to widget\r\n    if ( !$widget.hasClass( 'widgetized_area' ) ) {\r\n      // modify the edit widget links to make them use the widget's id\r\n      var $widget_id = $widget.attr( 'id' );\r\n      $( this ).attr( 'href', myAjax.siteurl + '/wp-admin/widgets.php?widget=' + $widget_id );\r\n    }\r\n  } );\r\n\r\n  //---- RSS WIDGETS ----//\r\n  // use our own rss icon at the bottom\r\n  $( '.widget_rss' ).each( function () {\r\n    var rss_url = $( this ).find( '.widgettitle a:first-child' ).attr( 'href' ) || $( this ).find( '.title a:first-child' ).attr( 'href' ); // http://communications.williams.edu/category/news-releases/feed/\r\n    var site_url = $( this ).find( '.widgettitle a:last-child' ).attr( 'href' ) || $( this ).find( '.title a:last-child' ).attr( 'href' );\r\n    // for wp category feeds, be \"smarter\" than the wp widget that just sends you to the top level site\r\n    if ( typeof rss_url !== 'undefined' && rss_url.indexOf( '.williams.edu' ) !== -1 && rss_url.indexOf( '/category/' ) !== -1 ) {\r\n      var url_bits = rss_url.split( '/' );\r\n      var cat_name = '';\r\n      for ( var i = 0; i < url_bits.length; i++ ) {\r\n        if ( url_bits[i] == 'category' ) {\r\n          cat_name = url_bits[i + 1];\r\n          break;\r\n        }\r\n      }\r\n      site_url += 'category/' + cat_name + '/';\r\n      // reset title url\r\n      $( this ).find( '.widgettitle a.rsswidget' ).attr( 'href', site_url );\r\n    }\r\n    $( this ).find( '.widgettitle a.rsswidget:first-child' ).remove();\r\n    $( this ).find( '.title a.rsswidget:first-child' ).remove();\r\n    var rss_icon = '<div class=\"wms-cal-rss\"><a href=\"' + rss_url + '\"><div class=\"sprite icon-16 rss\"></div>Subscribe</a></div>';\r\n    var widgetTitle = $( this ).find( '.widgettitle a' ).text();\r\n    var site_link = '<a class=\"wms-cal-link\" href=\"' + site_url + '\">More ' + widgetTitle + ' &raquo;</a>';\r\n    $( this ).append( rss_icon + site_link );\r\n  } );\r\n\r\n  //---- CATEGORY POSTS WIDGET ----//\r\n  // assign a marker class to category posts widgets that display ONLY the title, and style it like a menu\r\n  $( '#sidebar' ).find( '.widget_cat_loop_simple ul.post-loop-wrap' ).each( function () {\r\n    var $extras = $( this ).find( 'li > *:not(\"p.post-title\")' );\r\n    if ( $extras.length == 0 ) {\r\n      $( this ).closest( '.widget_cat_loop_simple' ).addClass( 'ultra-simple-cat' );\r\n    }\r\n    // if this is the current page, highlight it\r\n    $( this ).find( 'li' ).each( function () {\r\n      var $post_url = $( this ).find( 'a' ).attr( 'href' );\r\n      if ( $post_url == location.href ) {\r\n        $( this ).addClass( 'current-menu-item' );\r\n      }\r\n    } );\r\n  } );\r\n\r\n  //---- LOCALIST CALENDAR ----//\r\n\r\n  // localist markup is not human readable, add some classes so we don't go crazy\r\n  $( 'div#lw' ).addClass( 'localist-outer-wrapper' );\r\n  $( 'div.lw' ).addClass( 'localist-inner-wrapper' );\r\n  $( 'ul#lwe' ).addClass( 'localist-events' );\r\n  $( 'ul#lwe > li.lwe' ).addClass( 'localist-event' );\r\n\r\n  $( 'div.lwn' ).addClass( 'localist-basic-info' );\r\n  $( 'span.lwn0' ).addClass( 'localist-date' );\r\n  $( 'div.lwn > a' ).addClass( 'localist-title' );\r\n\r\n  $( 'div.lwd' ).addClass( 'localist-details' );\r\n  $( 'span.lwi0' ).addClass( 'localist-thumb-container' );\r\n  $( 'span.lwi0 > a' ).addClass( 'localist-thumb-link' );\r\n  $( 'span.lwi0 > a > img' ).addClass( 'localist-thumb-img' );\r\n\r\n  $( 'div.lwl' ).addClass( 'localist-where' );\r\n  $( 'span.lwl0' ).addClass( 'localist-location' );\r\n  $( 'div.lwl > a' ).addClass( 'localist-venue' );\r\n\r\n  $( '.localist-details' ).contents().filter( function () {\r\n    return this.nodeType == 3;\r\n  } ).wrap( '<div class=\"cal-rollover-bot\" />' );\r\n\r\n  $( '.localist-details' ).wrap( '<div class=\"cal-rollover\" />' );\r\n\r\n  var $dow_names = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n\r\n  var $is_math = location.href.substring( 0, 12 ) == 'http://math.';\r\n  $( '.localist-event' ).each( function ( index ) { // for each event\r\n    // duplicate event name & date so it can show in the rollover too\r\n    var $e_name = $( this ).find( '.lwn' ).clone().addClass( 'cal-rollover-top' );\r\n    $( this ).find( '.cal-rollover .lwi0' ).after( $e_name );\r\n\r\n    // date calculations\r\n    var $date_html = $( this ).find( '.lwn0:first' );\r\n    var $date = jQuery.trim( $date_html.text() );\r\n    var $date_copy = $date; // save for later\r\n    var $date_bits = $date.split( ' ' );\t// $date_bits = [\"Sep\", \"25\", \"\", \"7pm\"...]\r\n    var $mon = $date_bits[0].toLowerCase();\r\n    var $day = $date_bits[1].replace( ',', '' );\r\n    var $time;\r\n    if ( $date_bits[2] != \"\" ) {\r\n      $time = $date_bits[2];\r\n    } else {\r\n      $time = $date_bits[3];\r\n    }\r\n    var $is_date_span = false;\r\n    if ( $date_bits.length > 4 ) {\r\n      $is_date_span = true;\r\n    }\r\n\r\n    // calculate day of week. year is not included in localist feed :<\r\n    var $today_obj = new Date();\r\n    var $cur_year = $today_obj.getFullYear();\r\n    var $cur_mon = $today_obj.getMonth();\r\n    var $event_date_obj = new Date( $mon + \" \" + $day + \", \" + $cur_year );\r\n    var $event_mon = $event_date_obj.getMonth();\r\n    // check to see if we're crossing into the next year\r\n    if ( $event_mon < $cur_mon ) { // yup, increment year\r\n      $event_date_obj.setFullYear( $cur_year + 1 );\r\n    }\r\n\r\n    var $event_dow = $dow_names[$event_date_obj.getDay()];\r\n\r\n    // move datetime to after title\r\n    var $roll_date = $( this ).find( '.cal-rollover-top span.lwn0' ).prepend( $event_dow + ', ' ).remove();\r\n    $( this ).find( '.cal-rollover-top' ).append( $roll_date );\r\n\r\n    // add month sprite\r\n    var $all_html = '<div class=\"localist-fancy-date\">' +\r\n      '<div class=\"sprite icon-month ' + $mon + '\"></div>' +\r\n      '<div class=\"day-big\">' + $day + '</div>';\r\n    $( this ).find( '.lwn:first' ).prepend( $all_html );\r\n\r\n    // move location into rollover\r\n    var $lwl = $( this ).find( '.lwl' ).remove();\r\n    $( this ).find( '.cal-rollover .lwn a' ).after( $lwl );\r\n\r\n    // replace date/time in main list with just time\r\n    $date_html.remove();\r\n\r\n    if ( $is_math ) {\r\n      if ( $( this ).closest( '#content' ).length ) {\r\n        // copy thumb & link to main display\r\n        var $math_thumb = $( this ).find( '.localist-thumb-container' );\r\n        $( this ).find( '.localist-basic-info' ).prepend( $math_thumb );\r\n        // copy day of week into main display\r\n        var $math_dow = '<div class=\"math-cal-dow\">' + $event_dow + '</div>';\r\n        $( this ).find( '.localist-fancy-date' ).append( $math_dow );\r\n        // add time of day to main display\r\n        var $math_time = '<span class=\"math-cal-time\">' + $time + '</span>: ';\r\n        $( this ).find( '.localist-fancy-date' ).next().prepend( $math_time );\r\n      }\r\n    }\r\n\r\n    // add more link\r\n    $url = $( this ).find( '.lwn > a' ).attr( 'href' );\r\n    var $more = '<a class=\"more\" href=\"' + $url + '\">[ more ]</a>';\r\n    $( this ).find( '.cal-rollover-bot' ).append( $more );\r\n\r\n    // fix thumb image url - they started giving us dinky ones :<\r\n    var $thumb = $( this ).find( '.cal-rollover img.localist-thumb-img' );\r\n    var $too_small = $thumb.attr( 'src' );\r\n    var $bigger = $too_small.replace( \"/small/\", \"/big/\" );\r\n    $thumb.attr( 'src', $bigger );\r\n\r\n  } );\r\n  //add classes to links that wrap images\r\n  $( 'a:has(img)' ).addClass( 'image-link' );\r\n\r\n  // SMOOTH SCROLL TO INTERNAL LINKS\r\n  var $scroll_root = $( 'html, body' );\r\n  $( '#content' ).find( 'a[href^=#]' ).not( '.filter a' ).click( function () { // don't target external or jquery mobile links\r\n    var href = $.attr( this, 'href' );\r\n    if ( href.length > 1 ) {\r\n      $scroll_root.animate( {\r\n        scrollTop: $( href ).offset().top\r\n      }, 500, function () {\r\n        // Uncomment next line to add hash to URL\r\n        //window.location.hash = href;\r\n      } );\r\n      return false;\r\n    }\r\n  } );\r\n\r\n  //autofocus on search box on /search\r\n  jQuery( document ).ready( function () {\r\n    if ( jQuery( 'body' ).is( '.twig-search' ) ) {\r\n      setTimeout( function () {\r\n        jQuery( \".searchui-incontent .wms-navbox-input\" ).focus();\r\n        console.log( \"working\" );\r\n      }, 3000 );\r\n    }\r\n  } );\r\n\r\n})( window.jQuery );\r\n","'use strict';\r\n\r\n!(function () {\r\n  const wp = wp || null;\r\n  if ( !wp || !wp.media ) {\r\n    return false;\r\n  }\r\n\r\n  const media = wp.media;\r\n\r\n  // Wrap the render() function to append controls\r\n  media.view.Settings.Gallery = media.view.Settings.Gallery.extend( {\r\n    render: function () {\r\n      //alert('this here');\r\n      media.view.Settings.prototype.render.apply( this, arguments );\r\n\r\n      // Append the custom template\r\n      this.$el.append( media.template( 'custom-gallery-setting' ) );\r\n\r\n      // Save the setting\r\n      media.gallery.defaults.size = 'thumbnail';\r\n      this.update.apply( this, ['size'] );\r\n      return this;\r\n    }\r\n  } );\r\n})();","'use strict';\r\n\r\nimport { Common } from '../../../../../../lib/assets/js/src/common.es6';\r\n\r\n//---- QUAD/Masonry ----//\r\n/**\r\n * Example:\r\n <div class=\"quad-container\">\r\n <figure class=\"quad-image landscape ratio_4_3\">\r\n <a href=\"http://google.com\" title=\"Overlay\">\r\n <div class=\"quad-inner\" style=\"background-image: url(http://library.local.williams.edu/files/2017/05/galleries-ba1e52147cea983d482f6d4cddb6e9f2-11317214390-e1495209790914.jpg);\">\r\n <img src=\"http://library.local.williams.edu/files/2017/05/galleries-ba1e52147cea983d482f6d4cddb6e9f2-11317214390-e1495209790914.jpg\" alt=\"\">\r\n <div class=\"custom-caption-title\">Overlay</div>\r\n </div>\r\n <div class=\"custom-caption-text\">Blurb</div>\r\n </a>\r\n <a class=\"edit-me\" href=\"/wp-admin/upload.php?item=1418\">Edit Image</a>\r\n </figure>\r\n ...\r\n </div>\r\n */\r\n\r\n!function () {\r\n  const doQuadContainer = () => {\r\n    // Get all quads (all-or-nothing, atm...all quads are placed together on page)\r\n    const $quads = Array.prototype.slice.apply(\r\n      document.querySelectorAll( '.quad-image:not(.no-quad)' )\r\n    );\r\n    //const $quads = document.querySelectorAll( '.quad-image:not(.no-quad)' );\r\n    const len = $quads.length;\r\n    if ( !len ) {\r\n      return;\r\n    }\r\n\r\n    let $toContain = [];\r\n\r\n    $quads.forEach( el => {\r\n      if ( !Common.elements.hasClass( el.parentNode, 'quad-container' ) ) {\r\n        $toContain.push( el );\r\n      }\r\n    } );\r\n\r\n    // Wrap in container\r\n    const $wrapper = document.createElement( 'div' );\r\n    $wrapper.setAttribute( 'class', 'quad-container' );\r\n    Common.elements.wrapAll( $toContain, $wrapper );\r\n  };\r\n\r\n  doQuadContainer();\r\n}();\r\n","var global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n  // https://github.com/github/fetch/issues/748\n  // https://github.com/zloirock/core-js/issues/751\n  preProcessedHeaders\n    .split('\\r')\n    .map(function(header) {\n      return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n    })\n    .forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : ''\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer &&\n        request.headers.get('Content-Type') &&\n        request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./web/wp-content/themes/meerkat16/assets/src/js/main.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}